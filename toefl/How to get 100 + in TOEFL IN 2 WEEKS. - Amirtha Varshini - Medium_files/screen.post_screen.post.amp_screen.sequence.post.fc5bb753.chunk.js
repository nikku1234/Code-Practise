(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"./src/components/audio/AudioPlayback.jsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),a=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),i=n.n(a),l=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),s=n.n(l),c=n("./node_modules/react/index.js"),u=n.n(c),m=n("./node_modules/graphql-tag/src/index.js"),d=n.n(m);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var f=u.a.createElement("g",{strokeLinecap:"round",strokeLinejoin:"round"},u.a.createElement("path",{d:"M17.4 7s2.64 3.56 0 6.88M15 8.56s1.6 2.38 0 4.4"})),g=u.a.createElement("path",{d:"M11.9 3.01a.19.19 0 0 0-.19.04L6.47 7.7H3.2c-.09 0-.21.06-.21.14v5.28c0 .08.12.3.21.3h3.14L11.72 18h.18a.17.17 0 0 0 .1-.15V3.14a.14.14 0 0 0-.1-.14z"}),b=function(e){return u.a.createElement("svg",p({width:21,height:21},e),f,g)},h=n("./src/framework/design-system/components/index.js"),E=n("./src/framework/design-system/type/index.js"),v=n("./src/framework/reporter/index.js"),x=n("./src/framework/source/index.js"),y=n("./src/framework/style/index.js"),w=n("./src/styles/font.js");function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var C=u.a.createElement("path",{d:"M7 4v17.03a.5.5 0 0 0 .8.4l11.1-8.1a1 1 0 0 0 0-1.62L7.8 3.6A.5.5 0 0 0 7 4z"}),_=function(e){return u.a.createElement("svg",j({width:25,height:25},e),C)};function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var S=u.a.createElement("g",{transform:"translate(5 4)",fillRule:"evenodd"},u.a.createElement("rect",{width:6,height:17,rx:2}),u.a.createElement("rect",{x:9,width:6,height:17,rx:2})),P=function(e){return u.a.createElement("svg",I({width:25,height:25},e),S)},O=n("./src/components/session/WithViewer.jsx"),k=n("./src/framework/track/UpsellPresentationTracker.jsx"),B=n("./src/components/upsell/UpsellClickable.jsx");function T(){var e=o()(["\n  fragment AudioPlayback_post on Post {\n    id\n    audioVersionUrl\n    content(postMeteringOptions: $postMeteringOptions) {\n      isLockedPreviewOnly\n    }\n    ...UpsellClickable_post\n  }\n  ","\n"]);return T=function(){return e},e}n.d(t,"a",function(){return V}),n.d(t,"b",function(){return H});var R={duration:0,elapsed:0,playing:!1},A=function(e,t){switch(t.type){case"load":return s()({},e,{duration:t.duration});case"play":return s()({},e,{playing:!0});case"pause":return s()({},e,{playing:!1});case"seek":return s()({},e,{elapsed:t.clickedTime});case"progress":return s()({},e,{elapsed:t.elapsed});case"end":return s()({},e,{playing:!1});default:return e}},L={"0%":{visibility:"hidden"},"1%":{visibility:"visible",opacity:"0"},"100%":{opacity:"1"}},M={"0%":{opacity:"1",visibility:"visible"},"99%":{opacity:"0"},"100%":{visibility:"hidden"}},D=function(e){var t=e.postId,n=e.audioVersionUrl,r=Object(y.e)(),o=c.useReducer(A,R),a=i()(o,2),l=a[0],s=a[1],u=l.duration,m=l.elapsed,d=l.playing,p=Object(y.f)({fadeInKeyframesName:L,fadeOutKeyframesName:M}),f=p.fadeInKeyframesName,g=p.fadeOutKeyframesName,b=c.useState(!1),x=i()(b,2),w=x[0],j=x[1],C=c.useState(!1),I=i()(C,2),S=I[0],O=I[1],k=c.useCallback(function(){j(function(e){return O(!!e),!1})},[]),B=c.useCallback(function(){j(function(e){return O(!e),!0})},[]),T=Object(v.c)();c.useEffect(function(){var e=document.getElementById("audio-player");function t(){s({type:"load",duration:e.duration})}function n(){s({type:"progress",elapsed:e.currentTime})}function r(){s({type:"end"})}return e.addEventListener("canplay",t),e.addEventListener("timeupdate",n),e.addEventListener("ended",r),function(){e.removeEventListener("canplay",t),e.removeEventListener("timeupdate",n),e.removeEventListener("ended",r)}},[]),c.useEffect(function(){var e=document.getElementById("audio-player");Math.round(m)!==Math.round(e.currentTime)&&(e.currentTime=m)},[m]);var D=function(e){var t=e.children,n=e.onClick,r=Object(y.e)();return c.createElement("button",{onMouseUp:n,className:r(function(e){return{borderRadius:"4px",padding:"8px",borderWidth:"1px",borderStyle:"solid",boxSizing:"border-box",display:"inline-block",textDecoration:"none",":focus":{outline:"none"},color:e.baseColor.text.normal,fill:e.baseColor.fill.normal,background:0,borderColor:e.baseColor.border.dark,":hover":{cursor:"pointer",color:e.baseColor.text.darker,fill:e.baseColor.fill.darker,borderColor:e.baseColor.border.darker}}})},t)};return c.createElement(h.b,{display:"flex",justifyContent:"center",margin:"20px 0"},c.createElement("audio",{id:"audio-player"},c.createElement("source",{src:n})),c.createElement(h.b,{display:"flex",alignItems:"center",flexGrow:"1"},c.createElement(h.b,{marginRight:"16px"},c.createElement(function(e){var n=e.playing,r=c.useCallback(function(){var e=document.getElementById("audio-player");n?(T.event("audio.end",{postId:t}),e.pause(),s({type:"pause"})):(T.event("audio.start",{postId:t}),e.play(),s({type:"play"}))},[n]);return c.createElement(D,{onClick:r},n?c.createElement(P,null):c.createElement(_,null))},{playing:d})),c.createElement(h.b,{display:"flex",flexDirection:"column",flexGrow:"1"},c.createElement(E.a,{scale:"M",color:"DARKER"},"Listen to this story"),c.createElement(function(e){var t=e.duration,n=e.elapsed,o=e.isProgressBeanVisible,a=e.onMouseEnterProgressBar,i=e.onMouseLeaveProgressBar,l=e.onTimeUpdate,s=n&&t?Math.max(0,Math.min(n/t*100,100)):0;function u(e){var t=~~(e%60);return[~~(e/60),t<10?"0"+t:t].join(":")}function m(e){var n=e.pageX,r=document.getElementById("audio-player-progress-bar"),o=n-(r.getBoundingClientRect().left+window.scrollX);return t/r.offsetWidth*o}var d=[function(e){return{backgroundColor:e.baseColor.fill.normal,position:"relative",marginLeft:"-5px",height:"10px",width:"10px",borderRadius:"50%",left:"".concat(s,"%"),cursor:"pointer",opacity:o?1:0}}];return S&&d.push({animation:"".concat(o?f:g," .2s ease-in-out forwards")}),c.createElement(h.b,{display:"flex",alignItems:"center"},c.createElement(h.b,{width:"28px",marginRight:"12px",textAlign:"left"},c.createElement(E.a,{scale:"M"},n?u(n):"--:--")),c.createElement("div",{className:r(function(e){return{display:"flex",justifyContent:"flex-start",alignItems:"center",flexGrow:1,height:"2px",cursor:"pointer",background:"linear-gradient(to right, ".concat(e.baseColor.fill.normal," ").concat(s,"%, ").concat(e.baseColor.background.normal," 0)")}}),id:"audio-player-progress-bar",onMouseDown:function(e){function t(e){l(m(e))}l(m(e)),document.addEventListener("mousemove",t),document.addEventListener("mouseup",function(){document.removeEventListener("mousemove",t),i()})},onMouseEnter:a,onMouseLeave:i},c.createElement("div",{className:r(d),onAnimationEnd:function(){return O(!1)}})),c.createElement(h.b,{width:"28px",marginLeft:"12px",textAlign:"right"},c.createElement(E.a,{scale:"M"},t?u(t):"--:--")))},{elapsed:m,duration:u,isProgressBeanVisible:w,onMouseEnterProgressBar:B,onMouseLeaveProgressBar:k,onTimeUpdate:function(e){return s({type:"seek",clickedTime:Math.max(0,Math.min(e,u))})}}))))},N=function(e){return{fill:e.baseColor.fill.light,marginLeft:"15px",marginRight:"15px"}},U=function(e){return{color:e.baseColor.text.light,fontSize:"14px"}},F=function(e){var t=e.post,n=Object(y.e)();return c.createElement(h.C,{columns:8,display:"flex",flexShrink:"0",margin:"30px 0",padding:"20px 12px",backgroundColor:"BASE_LIGHT"},c.createElement(b,{className:n(N)}),c.createElement(h.d,{className:n([Object(w.g)(),U])},"Psst... there’s an audio version of this story."," ",c.createElement(B.a,{post:t,linkStyle:"OBVIOUS"},"Upgrade to listen")))};function V(e){var t=e.post,n=t.id,r=t.audioVersionUrl,o=(t.content||{}).isLockedPreviewOnly;return c.createElement(h.b,{marginTop:"30px"},c.createElement(O.a,null,function(e){return e&&!!e.mediumMemberAt||!o?c.createElement(D,{postId:n,audioVersionUrl:r}):c.createElement(x.b,{source:{dimension:"audio_exclusive",name:"upgrade_membership",postId:n}},c.createElement(k.a,null,c.createElement(F,{post:t})))}))}var H=d()(T(),B.b)},"./src/components/collection/CollectionFollowButton.jsx":function(e,t,n){"use strict";n.d(t,"c",function(){return B}),n.d(t,"b",function(){return T}),n.d(t,"a",function(){return F});var r=n("./node_modules/@babel/runtime/helpers/extends.js"),o=n.n(r),a=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),i=n.n(a),l=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),s=n.n(l),c=n("./node_modules/react/index.js"),u=n("./node_modules/graphql-tag/src/index.js"),m=n.n(u),d=n("./node_modules/react-apollo/react-apollo.esm.js"),p=n("./node_modules/react-redux/es/index.js"),f=n("./src/framework/design-system/type/index.js"),g=n("./src/framework/design-system/components/index.js"),b=n("./src/framework/style/index.js"),h=n("./src/svg/arrow-down-21px.svg"),E=n("./src/framework/design-system/components/portal/ui/Toast.jsx"),v=n("./src/util/routes.js"),x=n("./src/components/session/WithViewer.jsx"),y=n("./src/framework/reporter/index.js"),w=n("./src/framework/source/index.js"),j=n("./src/framework/track/DomMonitorContext.js"),C=n("./src/components/susi/SusiClickable.jsx");function _(){var e=s()(["\n  mutation unsubscribeCollectionEmailsMutation($id: ID!) {\n    unsubscribeCollectionEmails(collectionId: $id) {\n      ...CollectionFollowButton_collection\n    }\n  }\n  ","\n"]);return _=function(){return e},e}function I(){var e=s()(["\n  mutation subscribeCollectionEmailsMutation($id: ID!) {\n    subscribeCollectionEmails(collectionId: $id) {\n      ...CollectionFollowButton_collection\n    }\n  }\n  ","\n"]);return I=function(){return e},e}function S(){var e=s()(["\n  mutation unfollowCollectionMutation($id: ID!) {\n    unfollowCollection(targetCollectionId: $id) {\n      ...CollectionFollowButton_collection\n    }\n  }\n  ","\n"]);return S=function(){return e},e}function P(){var e=s()(["\n  mutation followCollectionMutation($id: ID!) {\n    followCollection(targetCollectionId: $id) {\n      ...CollectionFollowButton_collection\n    }\n  }\n  ","\n"]);return P=function(){return e},e}function O(){var e=s()(["\n  fragment CollectionFollowButton_collection on Collection {\n    __typename\n    id\n    viewerIsFollowing\n    name\n    viewerIsSubscribedToLetters\n    slug\n    isUserSubscribedToCollectionEmails\n    ...collectionUrl_collection\n    ...SusiClickable_collection\n  }\n  ","\n  ","\n"]);return O=function(){return e},e}function k(){var e=s()(["\n  fragment CollectionFollowButton_post on Post {\n    __typename\n    id\n  }\n"]);return k=function(){return e},e}var B=m()(k()),T=m()(O(),v.y,C.b),R=function(e){var t=e.children,n=e.extraTopPadding,r=e.extraBottomPadding,o=e.padding,a=e.margin,i=e.borderTop;return c.createElement(g.b,{padding:o||"".concat(n?"20px":"5px"," 20px ").concat(r?"20px":"5px"," 20px"),margin:a,borderTop:i?"BASE_LIGHTER":"NONE"},t)},A=m()(P(),T),L=m()(S(),T),M=m()(I(),T),D=m()(_(),T),N={position:"relative",left:"6px"},U=Object(d.d)(Object(d.f)(A,{name:"followCollectionMutation",props:function(e){var t=e.ownProps,n=e.followCollectionMutation;return{followCollectionMutation:function(){n({variables:{id:t.collection.id},optimisticResponse:{__typename:"Mutation",followCollection:{__typename:"Collection",viewerIsFollowing:!0,isUserSubscribedToCollectionEmails:t.collection.isUserSubscribedToCollectionEmails,id:t.collection.id,name:t.collection.name}}})}}}}),Object(d.f)(L,{name:"unfollowCollectionMutation",props:function(e){var t=e.ownProps,n=e.unfollowCollectionMutation;return{unfollowCollectionMutation:function(){return n({variables:{id:t.collection.id},optimisticResponse:{__typename:"Mutation",unfollowCollection:{__typename:"Collection",viewerIsFollowing:!1,isUserSubscribedToCollectionEmails:t.collection.isUserSubscribedToCollectionEmails,id:t.collection.id,name:t.collection.name}}})}}}}),Object(d.f)(M,{name:"subscribeCollectionEmailsMutation",props:function(e){var t=e.ownProps,n=e.subscribeCollectionEmailsMutation;return{subscribeCollectionEmailsMutation:function(){return n({variables:{id:t.collection.id},optimisticResponse:{__typename:"Mutation",subscribeCollectionEmails:{__typename:"Collection",viewerIsFollowing:t.collection.viewerIsFollowing,isUserSubscribedToCollectionEmails:!0,id:t.collection.id,name:t.collection.name}}})}}}}),Object(d.f)(D,{name:"unsubscribeCollectionEmailsMutation",props:function(e){var t=e.ownProps,n=e.unsubscribeCollectionEmailsMutation;return{unsubscribeCollectionEmailsMutation:function(){return n({variables:{id:t.collection.id},optimisticResponse:{__typename:"Mutation",unsubscribeCollectionEmails:{__typename:"Collection",viewerIsFollowing:t.collection.viewerIsFollowing,isUserSubscribedToCollectionEmails:!1,id:t.collection.id,name:t.collection.name}}})}}}}))(function(e){var t=Object(b.e)(),n=e.collection,r=e.currentLocation,a=e.post,l=n.name||"",s=Object(y.c)(),u=Object(w.c)(),m=Object(j.b)(),d=c.useState(!!e.isPopoverVisible),p=i()(d,2),_=p[0],I=p[1],S=c.useState(!!e.isToastVisible),P=i()(S,2),O=P[0],k=P[1],B=c.useCallback(function(){I(!1)},[]);c.useEffect(function(){return m.on("scroll",B),function(){m.off("scroll",B)}},[B]);var T=c.useCallback(function(){n.viewerIsFollowing||(e.followCollectionMutation&&e.followCollectionMutation(),s.event("collection.followed",{collectionId:n.id,followSource:u})),I(!0)},[n]),A=c.useCallback(function(){s.event("collection.unfollowed",{collectionId:n.id,followSource:u}),e.unfollowCollectionMutation&&e.unfollowCollectionMutation(),I(!1)},[]),L=c.useCallback(function(){I(!1)},[]),M=c.useCallback(function(t){s.event("client.action",{action:"toggle-subscribe-collection-emails",eventType:"click",classAttribute:"checkbox"}),t.target.checked?e.subscribeCollectionEmailsMutation&&e.subscribeCollectionEmailsMutation():e.unsubscribeCollectionEmailsMutation&&e.unsubscribeCollectionEmailsMutation(),k(!0)}),D=c.useCallback(function(){k(!1)}),U=!!n.isUserSubscribedToCollectionEmails;return c.createElement(c.Fragment,null,c.createElement(g.y,{isVisible:!!_,hide:L,popoverRenderFn:function(){return c.createElement(g.b,{width:"280px",display:"flex",flexDirection:"column"},c.createElement(R,{extraTopPadding:!0},c.createElement(f.b,{scale:"XS"},"You‘re following ",l)),c.createElement(R,null,c.createElement(g.d,null,"You‘ll now see more stories from ",l," across Medium.")),c.createElement(R,null,c.createElement(g.d,null,c.createElement("label",null,c.createElement(g.b,{display:"inline",marginRight:"5px"},c.createElement("input",{type:"checkbox",onChange:M,checked:U})),"Receive emails from this publication"))),c.createElement(R,{borderTop:!0,margin:"10px 0 0 0",padding:"15px 20px 5px 20px"},c.createElement(g.d,null,c.createElement(g.v,{href:Object(v.x)(n,r)},"View Publication"))),c.createElement(R,{extraBottomPadding:!0},c.createElement(g.d,null,c.createElement(g.v,{onClick:A},"Unfollow publication"))))}},c.createElement(function(e){var t=n.slug&&(a&&a.id?Object(v.ob)(n.slug,a.id):Object(v.nb)(n.slug));return c.createElement(x.a,null,function(r){return r?c.createElement(g.c,o()({size:"SMALL",onClick:T},e),e.children):c.createElement(C.a,o()({collection:n,isObvious:!0,isButton:!0,buttonSize:"SMALL",operation:"register",actionUrl:t},e),e.children)})},{buttonStyle:n.viewerIsFollowing?"STRONG":"OBVIOUS"},n.viewerIsFollowing?"Following":"Follow",n.viewerIsFollowing&&c.createElement("span",{className:t(N)},c.createElement(h.a,null)))),c.createElement(E.a,{isVisible:!!O,hide:D,duration:2e3},c.createElement(g.d,null,U?"You‘ll now receive emails from ".concat(l,"."):"You‘ll no longer receive emails from ".concat(l,"."))))}),F=Object(p.b)(function(e){return{currentLocation:e.navigation.currentLocation}})(U)},"./src/components/footer/GlobalFooter.js":function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),o=n.n(r),a=n("./node_modules/react/index.js"),i=n("./node_modules/react-redux/es/index.js"),l=n("./src/components/metabar/Logo.jsx"),s=n("./src/framework/design-system/components/index.js"),c=n("./src/styles/colors.js"),u=n("./src/util/routes.js"),m=n("./src/components/session/WithViewer.jsx");function d(e){var t=e.authDomain,n=e.productName;return a.createElement(s.b,{flexGrow:"1",flexShrink:"1",flexBasis:"0",margin:"0 12px"},a.createElement(s.b,{paddingBottom:"12px"},a.createElement(s.v,{href:Object(u.Q)(t)},a.createElement(s.p,null,"Become a member"))),a.createElement(s.d,null,"Get unlimited access to the best stories on ",n," — and support writers while you’re at it. Just $5/month."," ",a.createElement(s.v,{href:Object(u.Q)(t),inline:!0,linkStyle:"OBVIOUS"},"Upgrade")))}function p(e){var t=e.authDomain,n=e.productName;return a.createElement(s.b,{flexGrow:"1",flexShrink:"1",flexBasis:"0",margin:"0 12px"},a.createElement(s.b,{paddingBottom:"12px"},a.createElement(s.v,{href:Object(u.tb)(t,"members")},a.createElement(s.p,null,"Explore your membership"))),a.createElement(s.d,null,"Thank you for being a member of ",n,". You get unlimited access to insightful stories from amazing thinkers and storytellers."," ",a.createElement(s.v,{href:Object(u.tb)(t,"members"),inline:!0,linkStyle:"OBVIOUS"},"Browse")))}var f=Object(i.b)(function(e){var t=e.config;return{authDomain:t.authDomain,productName:t.productName}})(function(e){var t=e.authDomain,n=e.productName;return a.createElement(s.N,null,function(e){var r=o()({},e,{baseColor:o()({},e.baseColor,{background:{light:c.r(.76),normal:c.r(.84),dark:c.r(.9)},border:{lighter:c.u(.1),light:c.u(.2),normal:c.u(.34),dark:c.u(.54),darker:c.u(.84)},fill:{lighter:c.u(.7),light:c.u(.8),normal:c.u(.98),dark:c.u(.99)},text:{lighter:c.u(.7),light:c.u(.8),normal:c.u(.98),dark:c.u(.99)}})});return a.createElement(s.H,{theme:r},a.createElement(s.b,{backgroundColor:"BASE_DARK",padding:"60px 0",sm:{padding:"32px 0"}},a.createElement(s.C,null,a.createElement(s.b,{borderBottom:"BASE_DARK",display:"flex",justifyContent:"space-between",marginBottom:"32px",paddingBottom:"48px",sm:{display:"none"}},a.createElement(s.b,{display:"flex",justifyContent:"space-between",margin:"0 -12px"},a.createElement(s.b,{flexGrow:"1",flexShrink:"1",flexBasis:"0",margin:"0 12px"},a.createElement(s.b,{paddingBottom:"12px"},a.createElement(s.v,{href:Object(u.a)({authDomain:t,autoplay:!0})},a.createElement(s.p,null,"Discover ",n))),a.createElement(s.d,null,"Welcome to a place where words matter. On ",n,", smart voices and original ideas take center stage - with no ads in sight."," ",a.createElement(s.v,{href:Object(u.a)({authDomain:t,autoplay:!0}),inline:!0,linkStyle:"OBVIOUS"},"Watch"))),a.createElement(s.b,{flexGrow:"1",flexShrink:"1",flexBasis:"0",margin:"0 12px"},a.createElement(s.b,{paddingBottom:"8px"},a.createElement(s.v,{href:Object(u.ub)(t)},a.createElement(s.p,null,"Make ",n," yours"))),a.createElement(s.d,null,"Follow all the topics you care about, and we’ll deliver the best stories for you to your homepage and inbox."," ",a.createElement(s.v,{href:Object(u.ub)(t),inline:!0,linkStyle:"OBVIOUS"},"Explore"))),a.createElement(m.a,null,function(e){return e&&e.mediumMemberAt?a.createElement(p,{authDomain:t,productName:n}):a.createElement(d,{authDomain:t,productName:n})}))),a.createElement(s.b,{alignItems:"center",display:"flex",justifyContent:"space-between"},a.createElement(s.v,{href:"https://".concat(t,"/")},a.createElement(l.c,null)),a.createElement(s.d,null,a.createElement(s.b,{display:"flex",justifyContent:"space-between",paddingTop:"8px",width:"200px",sm:{display:"flex",width:"140px"}},a.createElement(s.v,{href:Object(u.a)({authDomain:t}),inline:!0},"About"),a.createElement(s.v,{href:Object(u.K)(),inline:!0},"Help"),a.createElement(s.v,{href:Object(u.N)(),inline:!0},"Legal")))))))})})},"./src/components/meter/ContentWall.jsx":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("./node_modules/react/index.js"),o=n("./src/framework/design-system/components/index.js"),a=n("./src/styles/colors.js");function i(e){var t=e.children;return r.createElement(r.Fragment,null,r.createElement(o.b,{marginTop:"-150px",background:"linear-gradient(".concat(Object(a.u)(0),", ").concat(Object(a.u)(1),")"),height:"150px",position:"relative",width:"100%",marginBottom:"10px"}),r.createElement(o.b,{margin:"auto",borderRadius:"4px",boxShadow:"0 2px 10px ".concat(Object(a.r)(.15)),maxWidth:"760px",sm:{margin:"0 18px 0"}},t))}},"./src/components/meter/PayWall.jsx":function(e,t,n){"use strict";n.d(t,"b",function(){return w}),n.d(t,"a",function(){return j});var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),a=n("./node_modules/react/index.js"),i=n("./node_modules/react-redux/es/index.js"),l=n("./node_modules/graphql-tag/src/index.js"),s=n.n(l),c=n("./src/framework/design-system/components/index.js"),u=n("./src/framework/design-system/type/index.js"),m=n("./src/framework/design-system/type/Detail.js"),d=n("./src/components/meter/ContentWall.jsx"),p=n("./src/components/upsell/UpsellClickable.jsx"),f=n("./src/components/ui/image/index.js"),g=n("./src/framework/source/index.js"),b=n("./src/framework/track/UpsellPresentationTracker.jsx"),h=n("./src/components/style/BaseThemeProvider.js"),E=n("./src/components/session/WithViewer.jsx");function v(){var e=o()(["\n  fragment PayWall_post on Post {\n    id\n  }\n"]);return v=function(){return e},e}var x=a.createElement(c.b,{sm:{display:"none"}},a.createElement(f.b,{alt:"",height:260,width:114,miroId:"0*GLFDRIpcedGcmuSg",strategy:"RESAMPLE",rules:{paddingBottom:"16px"}})),y=a.createElement(c.b,{display:"none",sm:{display:"block"}},a.createElement(f.b,{alt:"",height:60,width:300,miroId:"1*K4MHnSAfehAx3IJQxj7tfg.png",strategy:"RESAMPLE"})),w=s()(v()),j=Object(i.b)(function(e){return{productName:e.config.productName}})(function(e){var t=e.post,n=e.productName;return a.createElement(h.a,null,a.createElement(d.a,null,a.createElement(c.b,{display:"flex",sm:{flexDirection:"column",textAlign:"center"}},x,a.createElement(c.b,{display:"flex",flexDirection:"column",padding:"48px 56px",sm:{padding:"28px 16px 32px",textAlign:"center"}},a.createElement(u.c,{scale:"L"},"You read a lot. We like that."," "),a.createElement(m.a,{scale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"}},a.createElement(c.b,{marginTop:"8px",marginBottom:"28px",sm:{display:"none"}},function(e){return"You’ve reached the end of your free member preview for this month. Become a member now for $5/month to read this story and get unlimited access to all of the best stories on ".concat(e,".")}(n)),a.createElement(c.b,{marginTop:"8px",marginBottom:"28px",display:"none",sm:{display:"inline-block"},maxWidth:"400px"},"You’ve reached the end of your free member preview for this month. Upgrade for unlimited access.")),a.createElement(g.b,{source:{dimension:"post_limit",name:"upgrade_membership",postId:t.id}},a.createElement(b.a,null,a.createElement(c.b,{display:"inline-block",textAlign:"center"},a.createElement(p.a,{isButton:!0,buttonStyle:"BRAND",width:"182px"},a.createElement(E.a,null,function(e){return e&&e.hasPastMemberships?"Resume membership":"Upgrade"})))))),y)))})},"./src/components/meter/RegWall.jsx":function(e,t,n){"use strict";n.d(t,"b",function(){return _}),n.d(t,"d",function(){return I}),n.d(t,"c",function(){return S}),n.d(t,"a",function(){return P});var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),a=n("./node_modules/react/index.js"),i=n("./node_modules/react-redux/es/index.js"),l=n("./node_modules/graphql-tag/src/index.js"),s=n.n(l),c=n("./src/framework/design-system/components/index.js"),u=n("./src/framework/design-system/type/Detail.js"),m=n("./src/framework/reporter/index.js"),d=n("./src/components/meter/ContentWall.jsx"),p=n("./src/components/susi/SusiClickable.jsx"),f=n("./src/components/susi/oauth-buttons/FacebookSusiButton.jsx"),g=n("./src/components/susi/oauth-buttons/GoogleSusiButton.jsx"),b=n("./src/components/ui/image/index.js"),h=n("./src/framework/source/index.js"),E=n("./src/components/style/BaseThemeProvider.js");function v(){var e=o()(["\n  fragment RegWall_meteringInfo on MeteringInfo {\n    postIds\n  }\n"]);return v=function(){return e},e}function x(){var e=o()(["\n  fragment RegWall_post on Post {\n    id\n    lockedSource\n    ...SusiClickable_post\n  }\n  ","\n"]);return x=function(){return e},e}function y(){var e=o()(["\n  fragment RegWall_collection on Collection {\n    name\n  }\n"]);return y=function(){return e},e}var w=a.createElement(c.b,{sm:{display:"none"}},a.createElement(b.b,{alt:"",height:310,width:114,miroId:"0*GLFDRIpcedGcmuSg",strategy:"RESAMPLE",rules:{paddingBottom:"16px"}})),j=a.createElement(c.b,{display:"none",sm:{display:"block"}},a.createElement(b.b,{alt:"",height:60,width:300,miroId:"1*K4MHnSAfehAx3IJQxj7tfg.png",strategy:"RESAMPLE"})),C=function(){var e={operation:"register"};return a.createElement(c.b,{display:"flex",margin:"28px 0",sm:{flexDirection:"column"}},a.createElement(c.b,{marginRight:"12px",sm:{marginRight:"0",marginBottom:"12px"}},a.createElement(g.a,e)),a.createElement(c.b,null,a.createElement(f.a,e)))},_=s()(y()),I=s()(x(),p.c),S=s()(v()),P=Object(i.b)(function(e){return{productName:e.config.productName}})(function(e){var t=e.collection,n=e.meteringInfo,r=e.post,o=e.productName,i=Object(m.c)(),l="LOCKED_POST_SOURCE_SYNDICATED"===r.lockedSource;return a.useEffect(function(){i.event("meter.showMeterBanner",{unlockCount:n.postIds.length,postId:r.id,type:l?"5":"4"})},[]),a.createElement(E.a,null,a.createElement(h.b,{source:{susiEntry:"post_regwall",postId:r.id}},a.createElement(d.a,null,a.createElement(c.b,{display:"flex",sm:{flexDirection:"column",textAlign:"center"}},w,a.createElement(c.b,{padding:"48px 56px",sm:{padding:"28px 16px 12px"}},a.createElement(c.t,{size:"h3",smSize:"h4"},function(e){return e?"This story is just a click away.":"Keep the story going. Sign up for an extra free read."}(l)),a.createElement(u.a,{scale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"}},a.createElement(c.b,{marginTop:"8px"},function(e,t,n){var r=e&&e.name||n;return t?"Sign up for a free ".concat(n," account to read this story from ").concat(r,". Plus, get one more story in your member preview this month."):"You've completed your member preview for this month, but when you sign up for a free ".concat(n," account, you get one more story. ")}(t,l,o)),a.createElement(C,null),"Already have an account?"," ",a.createElement(p.a,{isObvious:!0,operation:"login",post:r},"Sign in"))),j))))})},"./src/components/mutations/UserBlockMutation.jsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),a=n("./node_modules/react/index.js"),i=n("./node_modules/react-apollo/react-apollo.esm.js"),l=n("./node_modules/react-redux/es/index.js"),s=n("./node_modules/graphql-tag/src/index.js"),c=n.n(s),u=n("./src/store/actions/navigation.js");function m(){var e=o()(["\n  mutation UserBlockMutation($targetUserId: ID!, $userId: ID!) {\n    blockUser(userId: $userId, targetUserId: $targetUserId) {\n      id\n      isBlocking\n    }\n  }\n"]);return m=function(){return e},e}var d=c()(m());t.a=Object(l.b)()(function(e){var t=e.children,n=e.dispatch,r=e.targetUserId,o=e.viewerId,l=e.onCompleted;return a.createElement(i.b,{mutation:d,onCompleted:function(e){n(Object(u.j)({message:"Successfully blocked user."})),l&&l()},variables:{targetUserId:r,userId:o},optimisticResponse:{__typename:"Mutation",blockUser:{__typename:"User",id:r,isBlocking:!0}}},function(e){return t({mutate:e})})})},"./src/components/mutations/UserUnblockMutation.jsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),a=n("./node_modules/react/index.js"),i=n("./node_modules/react-apollo/react-apollo.esm.js"),l=n("./node_modules/react-redux/es/index.js"),s=n("./node_modules/graphql-tag/src/index.js"),c=n.n(s),u=n("./src/store/actions/navigation.js");function m(){var e=o()(["\n  mutation UserUnblockMutation($targetUserId: ID!, $userId: ID!) {\n    unblockUser(userId: $userId, targetUserId: $targetUserId) {\n      id\n      isBlocking\n    }\n  }\n"]);return m=function(){return e},e}var d=c()(m());t.a=Object(l.b)()(function(e){var t=e.children,n=e.dispatch,r=e.targetUserId,o=e.viewerId,l=e.onCompleted;return a.createElement(i.b,{mutation:d,onCompleted:function(e){n(Object(u.j)({message:"Successfully unblocked user."})),l&&l()},variables:{targetUserId:r,userId:o},optimisticResponse:{__typename:"Mutation",unblockUser:{__typename:"User",id:r,isBlocking:!1}}},function(e){return t({mutate:e})})})},"./src/components/post-listing/PostListingItemRecirc.jsx":function(e,t,n){"use strict";n.d(t,"a",function(){return x});var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),a=n("./node_modules/react/index.js"),i=n("./node_modules/graphql-tag/src/index.js"),l=n.n(i),s=n("./node_modules/react-redux/es/index.js"),c=n("./src/components/post/bookmark/index.js"),u=n("./src/components/post/multivote/MultiVote.jsx"),m=n("./src/components/session/WithFlag.jsx"),d=n("./src/components/ui/image/FocusableMiroImage.js"),p=n("./src/framework/design-system/components/index.js"),f=n("./src/framework/design-system/type/Detail.js"),g=n("./src/framework/source/index.js"),b=n("./src/framework/track/index.js"),h=n("./src/components/post/PostByline.jsx"),E=n("./src/util/routes.js");function v(){var e=o()(["\n  fragment PostListingItemRecirc_post on Post {\n    __typename\n    id\n    title\n    isLocked\n    previewImage {\n      id\n      focusPercentX\n      focusPercentY\n    }\n    ...PostByline_post\n    ...PostPresentationTracker_post\n    ...BookmarkButton_post\n    ...MultiVote_post\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return v=function(){return e},e}var x=l()(v(),h.a,b.c,c.b,u.b),y=function(e){var t=e.height,n=e.width;return function(e){return{paddingBottom:"".concat(t/n*100,"%"),position:"relative"}}},w=function(e){return{height:"100%",position:"absolute",width:"100%"}},j=function(e){var t=e.title,n=e.url;return a.createElement(p.f,{href:n},a.createElement(p.s,{size:"h4",tag:"h3"},t))};t.b=Object(s.b)(function(e){return{productName:e.config.productName}})(function(e){var t,n,r=e.post,o=e.productName;"SuggestedPost"===r.__typename?(t=function(e,t){var n,r,o,a;switch(e&&e[0]&&e[0].reason){case"TOP_SIMILAR_TO_POST":case"CF_POST_SIMILAR_TO_POST":return"Related reads";case"TOP_IN_TOPIC":return a=e[0].topics?e[0].topics[0].name:"topic","Popular in ".concat(a);case"POSTS_SHARING_AUTHOR":return n=e[0].users?e[0].users[0].name:"author","More from ".concat(n);case"POSTS_SHARING_TAGS":return(o=e[0].tags&&e[0].tags[0].name)?"Also tagged ".concat(o):"";case"TOP_IN_COLLECTION":return r=e[0].collections?e[0].collections[0].name:"publication","More from ".concat(r);case"TOP_FOR_THE_DAY_GLOBALLY":return"Top on ".concat(t);case"POSTS_SHARING_COLLECTION_AND_TAGS":return o=e[0].tags&&e[0].tags[0].name,r=e[0].collections?e[0].collections[0].name:"publication",o?"More on ".concat(o," from ").concat(r):"";case"RECOMMENDED_BY_AUTHOR":return(n=e[0].users&&e[0].users[0].name)?"Applause from ".concat(n):"";case"TOP_FOR_THE_DAY":return"Trending on ".concat(t);default:return"Picked for you"}}(r.postSuggestionReasons,o),n=r.post):n=r;var i,l,s,v,x,C,_,I,S=n.previewImage?n.previewImage.id:"",P=n.title?n.title:"",O=(i={id:S||"1*hn4v1tCaJy7cWMyb0bpNpQ.png",width:328,height:218,title:P,focusPercentX:n.previewImage?n.previewImage.focusPercentX:null,focusPercentY:n.previewImage?n.previewImage.focusPercentY:null},s=i.id,v=i.width,x=i.height,C=i.title,_=i.focusPercentX,I=i.focusPercentY,s?(l="number"==typeof _&&"number"==typeof I?[_,I]:[50,50],a.createElement(p.L,null,function(e){return a.createElement("div",{className:e(y({height:x,width:v}))},a.createElement("div",{className:e(w)},a.createElement(d.a,{miroId:s,alt:C,imgHeight:x,imgWidth:v,width:"100%",height:"100%",freezeGifs:!1,focusPercent:l})))})):null);return a.createElement(b.b,{post:n,presentationContext:"PLACEMENT"},a.createElement(p.b,{md:{marginBottom:"48px"}},a.createElement(p.k,{alignItems:{xs:"flex-start",sm:"center",md:"center",lg:"flex-start",xl:"flex-start"},direction:{xs:"row",sm:"row-reverse",md:"row-reverse",lg:"row",xl:"row"}},a.createElement(p.l,{size:{xs:12,sm:6,md:6,lg:12,xl:12}},t&&a.createElement(p.b,{marginBottom:"12px",md:{display:"none"},xs:{display:"block"}},a.createElement(f.a,{scale:"M"},t)),O&&a.createElement(p.b,{marginBottom:"16px",md:{marginBottom:"0px"},xs:{marginBottom:"16px"}},a.createElement(p.v,{display:"block",href:Object(E.W)(n)},O))),a.createElement(p.l,{size:{xs:12,sm:6,md:6,lg:12,xl:12}},a.createElement(p.b,{marginBottom:"16px"},t&&a.createElement(p.b,{display:"none",marginBottom:"4px",md:{display:"block"},xs:{display:"none"}},a.createElement(f.a,{scale:"M"},t)),a.createElement(j,{title:n.title?n.title:"",url:Object(E.W)(n)})),a.createElement(p.b,{display:"flex",alignItems:"center",justifyContent:"space-between"},a.createElement(p.b,{flexShrink:"1",marginRight:"10px"},a.createElement(m.a,{name:"remove_stars_ui"},function(e){return a.createElement(h.b,{post:n,showBio:!1,scale:"S",showStar:!e&&!!n.isLocked})})),a.createElement(p.b,{display:"flex",alignItems:"center"},a.createElement(g.b,{source:{susiEntry:"clap_preview"},extendSource:!0},a.createElement(u.a,{post:n,buttonStyle:"SUBTLE",isAccentColor:!1})),a.createElement(p.b,{borderRight:"BASE_LIGHTER",marginLeft:"12px",marginRight:"10px",height:"20px",width:"1px"}),a.createElement(c.a,{post:n})))))))})},"./src/components/post/MaybeRedirectToEditor.jsx":function(e,t,n){"use strict";n.d(t,"b",function(){return p}),n.d(t,"a",function(){return f});var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),a=n("./node_modules/react/index.js"),i=n("./node_modules/react-redux/es/index.js"),l=n("./node_modules/graphql-tag/src/index.js"),s=n.n(l),c=n("./src/util/routes.js"),u=n("./src/components/navigation/Redirect.jsx"),m=n("./src/components/session/WithViewer.jsx");function d(){var e=o()(["\n  fragment MaybeRedirectToEditor_post on Post {\n    id\n    isPublished\n    collection {\n      id\n      viewerCanEditOwnPosts\n      viewerCanEditPosts\n      viewerCanManage\n    }\n    creator {\n      id\n    }\n  }\n"]);return d=function(){return e},e}var p=s()(d()),f=Object(i.b)(function(e){return{authDomain:e.config.authDomain}})(function(e){var t=e.authDomain,n=e.post,r=e.children;return a.createElement(m.a,null,function(e){return function(e,t){var n=e.collection,r=e.creator&&t&&e.creator.id===t.id,o=r&&n&&n.viewerCanEditOwnPosts||n&&(n.viewerCanManage||n.viewerCanEditPosts);return(!e||!e.isPublished)&&(n?o:r)}(n,e)?a.createElement(u.a,{to:Object(c.V)(t,n.id)}):r})})},"./src/components/post/NormalizePostBodyModel.js":function(e,t,n){"use strict";n.d(t,"d",function(){return u}),n.d(t,"b",function(){return m}),n.d(t,"c",function(){return d}),n.d(t,"a",function(){return p});var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),a=n("./node_modules/graphql-tag/src/index.js"),i=n.n(a),l=n("./src/util/string.js");function s(){var e=o()(["\n  fragment GetFeaturedImageIndex_bodyModel on RichText {\n    paragraphs {\n      type\n      text\n      metadata {\n        isFeatured\n      }\n    }\n  }\n"]);return s=function(){return e},e}function c(){var e=o()(["\n  fragment GetTitleIndexMap_bodyModel on RichText {\n    paragraphs {\n      type\n      text\n    }\n  }\n"]);return c=function(){return e},e}var u=function(e){for(var t=null,n=null,r=null,o=0;o<=e.length;o++){var a=e[o];if(!a)break;if(null!=t){"H4"===a.type&&(n=o);break}if("H3"===a.type||"H2"===a.type)t=o;else{if(null!=r)break;if("H4"!==a.type){if("IMG"===a.type||"IFRAME"===a.type||"P"===a.type&&"string"==typeof a.text&&Object(l.a)(a.text))continue;break}r=o}}return{titleIndex:t,subtitleIndex:n}},m=i()(c()),d=function(e){for(var t=null,n=0;n<e.length;n++)if("IMG"===e[n].type){if(e[n].metadata&&e[n].metadata.isFeatured)return n;null===t&&(t=n)}return t},p=i()(s())},"./src/components/post/PostMetadata.jsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),a=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),i=n.n(a),l=n("./node_modules/react/index.js"),s=n("./node_modules/react-helmet-async/lib/index.module.js"),c=n("./node_modules/graphql-tag/src/index.js"),u=n.n(c),m=n("./node_modules/react-redux/es/index.js"),d=n("./src/util/routes.js"),p=n("./src/util/miroImage.js"),f=n("./node_modules/serialize-javascript/index.js"),g=n.n(f),b=n("./src/util/navigation.js");function h(){var e=o()(["\n  fragment PostJsonLd_post on Post {\n    id\n    title\n    mediumUrl\n    creator {\n      name\n      username\n    }\n    collection {\n      id\n      name\n      domain\n      slug\n      logo {\n        id\n        originalWidth\n        originalHeight\n      }\n    }\n    previewImage {\n      id\n      focusPercentX\n      focusPercentY\n      originalWidth\n      originalHeight\n    }\n    firstPublishedAt\n    updatedAt\n    tags {\n      displayTitle\n    }\n    topics {\n      name\n      slug\n    }\n    sequence {\n      slug\n    }\n    lockedSource\n    layerCake\n  }\n"]);return h=function(){return e},e}var E={TAG:"Tag",TOPIC:"Topic",PUBLICATION:"Publication",SEQUENCE:"Sequence",LOCKED_POST_SOURCE:"LockedPostSource",ELEVATED:"Elevated",LAYER_CAKE:"LayerCake",LITE:"Lite"},v={id:"1*OMF3fSqH8t4xBJ9-6oZDZw.png",originalWidth:545,originalHeight:106};function x(e){if(!e||!e.logo||!e.logo.id)return y(v);var t=y(e.logo);return t&&60===t.height&&t.width<=600?t:y(v)}function y(e){var t=e.id,n=e.originalWidth,r=e.originalHeight;if(!t||!n||!r)return null;var o=Math.min(r,60),a=o/r,i=Math.floor(n*a);return{"@type":"ImageObject",width:i,height:o,url:Object(p.c)({miroId:t,width:i,freezeGifs:!0,strategy:"RESAMPLE"})}}function w(e,t){return"".concat(e,":").concat(t)}var j=Object(m.b)(function(e){var t=e.config.productName,n=e.navigation;return{currentLocation:n.currentLocation,host:n.host,productName:t}})(function(e){var t=e.currentLocation,n=e.host,r=e.post,o=e.postDescription,a=e.productName,i=r.collection,c=r.creator,u=r.id,m=r.mediumUrl,f=r.title,h=r.previewImage,j=r.firstPublishedAt,C=r.updatedAt,_=r.tags,I=r.topics,S=r.sequence,P=r.lockedSource,O=r.layerCake,k=i?{"@type":"Organization",name:i.name,url:i.domain||Object(b.b)(n,Object(d.x)(i,t)),logo:x(i)}:{"@type":"Organization",name:a,url:Object(b.b)(n,"/"),logo:y(v)},B=[w(E.LITE,"true")];_&&_.forEach(function(e){e.displayTitle&&B.push(w(E.TAG,e.displayTitle))}),I&&I.forEach(function(e){e.name?B.push(w(E.TOPIC,e.name)):e.slug&&B.push(w(E.TOPIC,e.slug))}),i&&i.slug&&B.push(w(E.PUBLICATION,i.slug)),B.push(w(E.ELEVATED,(!!S).toString())),S&&S.slug&&B.push(w(E.SEQUENCE,S.slug)),P&&B.push(w(E.LOCKED_POST_SOURCE,P)),null!=O&&B.push(w(E.LAYER_CAKE,O.toString()));var T=o||"",R={"@context":"http://schema.org","@type":"NewsArticle",image:h?function(e){var t=e.id,n=e.originalWidth,r=e.originalHeight,o=e.focusPercentX,a=e.focusPercentY;if(!t)return null;var i=Object(p.a)({miroId:t,aspectRatio:16/9,croppedWidth:1200,originalWidth:n,originalHeight:r,focusPercentX:o,focusPercentY:a}),l=Object(p.a)({miroId:t,aspectRatio:4/3,croppedWidth:1200,originalWidth:n,originalHeight:r,focusPercentX:o,focusPercentY:a}),s=Object(p.a)({miroId:t,aspectRatio:1,croppedWidth:1200,originalWidth:n,originalHeight:r,focusPercentX:o,focusPercentY:a}),c=new Set([i,l,s]);return Array.from(c)}(h):null,url:m,dateCreated:j&&new Date(j).toISOString(),datePublished:j&&new Date(j).toISOString(),dateModified:C&&new Date(C).toISOString(),headline:f,name:f,description:T,identifier:u,keywords:B.length?B:null,author:c&&c.name&&c.username?{"@type":"Person",name:c.name||c.username,url:Object(d.P)(n,c.username)}:null,creator:c&&[c.name],publisher:k,mainEntityOfPage:m};return l.createElement(s.a,null,l.createElement("script",{type:"application/ld+json"},g()(R,{isJSON:!0})))}),C=u()(h()),_=n("./src/util/numbers.js"),I=n("./src/util/string.js"),S=n("./src/store/actions/metadata.js"),P=n("./src/components/post/NormalizePostBodyModel.js");function O(){var e=o()(["\n  fragment PostMetadata_post on Post {\n    id\n    title\n    socialTitle\n    socialDek\n    canonicalUrl\n    mediumUrl\n    metaDescription\n    firstPublishedAt\n    latestPublishedAt\n    visibility\n    readingTime\n    creator {\n      name\n      username\n      twitterScreenName\n    }\n    sequence {\n      title\n    }\n    collection {\n      ampEnabled\n      domain\n      twitterUsername\n      facebookPageId\n      favicon {\n        id\n      }\n    }\n    previewContent {\n      subtitle\n    }\n    previewImage {\n      id\n      focusPercentX\n      focusPercentY\n      originalHeight\n      originalWidth\n    }\n    # please note that the postMeteringOptions are defined in the postHandler file\n    content(postMeteringOptions: $postMeteringOptions) {\n      bodyModel {\n        paragraphs {\n          type\n          text\n        }\n        ...GetTitleIndexMap_bodyModel\n      }\n    }\n    ...PostJsonLd_post\n  }\n  ","\n  ","\n"]);return O=function(){return e},e}function k(e,t){var n=e.metaDescription,r=e.title||"";if(n)return n;var o=function(e){var t="";if(e.content&&e.content.bodyModel&&e.content.bodyModel.paragraphs){for(var n=e.content.bodyModel.paragraphs,r=0;r<n.length;r++){var o=n[r];if("P"===o.type&&o.text&&o.text.length>100&&(t+=" ".concat(o.text)),t.length>250)break}return Object(I.b)(t,200)}return t}(e);if(o.length>150)return o;var a=(e.previewContent&&e.previewContent.subtitle||"")+".";if(a.length>140)return a;var i=r+". "+a;if(i.length>140)return i;var l="“".concat(r,"” is published");return e.creator&&e.creator.name&&(l+=" by ".concat(e.creator.name)),e.collection&&e.collection.name&&(l+=" in ".concat(e.collection.name)),"".concat(a," ").concat(l,".")}n.d(t,"a",function(){return T});var B={setFaviconImageId:S.b},T=(t.b=Object(m.b)(function(e){return{host:e.navigation.host,iTunesAppId:e.config.iTunesAppId,productName:e.config.productName}},B)(function(e){var t=e.isAmp,n=e.host,r=e.iTunesAppId,o=e.productName,a=e.post,c=e.setFaviconImageId,u=a.canonicalUrl,m=a.collection,f=a.creator,g=a.firstPublishedAt,b=a.id,h=a.latestPublishedAt,E=a.mediumUrl,v=a.previewContent,x=a.socialTitle,y=a.socialDek,w=a.visibility,C=m&&m.ampEnabled,I=f&&f.name,S=a.title||"";if(a.content&&a.content.bodyModel&&a.content.bodyModel.paragraphs){var O=a.content.bodyModel.paragraphs,B=Object(P.d)(O).titleIndex;"number"==typeof B&&(S=O[B].text)}var T,R,A=function(e,t){var n=e.title||"";return n.length>50?n:(e.sequence&&e.sequence.title?n+=" - ".concat(e.sequence.title):e.collection&&e.collection.name?n+=" - ".concat(e.collection.name):e.creator&&e.creator.name&&(n+=" - ".concat(e.creator.name)),e.collection&&e.collection.domain?n:"".concat(n," - ").concat(t))}(i()({},a,{title:S}),o).trim(),L=k(a).trim(),M=y||v&&v.subtitle||L;if(a&&a.previewImage&&a.previewImage.id){var D=a.previewImage;T=Object(p.a)({miroId:D.id,aspectRatio:1.9,croppedWidth:D.originalWidth?Math.min(D.originalWidth,1200):1200,originalWidth:D.originalWidth,originalHeight:D.originalHeight,focusPercentX:D.focusPercentX,focusPercentY:D.focusPercentY})}f&&f.username&&(R=Object(d.P)(n,f.username));var N=Object(d.h)(b),U=!g||"PUBLIC"!==w&&"LOCKED"!==w,F=h&&new Date(h).toISOString(),V=Object(_.d)(a.readingTime||0),H=f&&f.twitterScreenName,W=m&&m.twitterUsername||"Medium",$=m&&m.facebookPageId;l.useEffect(function(){return m&&m.domain&&m.favicon&&c(m.favicon.id),function(){c(null)}},[]);var z=l.useMemo(function(){return l.createElement(s.a,{htmlAttributes:t?{amp:void 0}:{}},l.createElement("meta",{property:"og:type",content:"article"}),F&&l.createElement("meta",{property:"article:published_time",content:F}),C&&!t?l.createElement("link",{rel:"amphtml",href:Object(d.c)(b)}):null,l.createElement("title",null,A),l.createElement("meta",{name:"title",content:A}),l.createElement("meta",{property:"og:title",content:x||S}),l.createElement("meta",{property:"twitter:title",content:x||S}),$&&l.createElement("meta",{property:"fb:pages",content:$}),l.createElement("meta",{name:"twitter:site",content:"@".concat(W)}),l.createElement("meta",{name:"twitter:app:url:iphone",content:N}),l.createElement("meta",{property:"al:android:url",content:N}),l.createElement("meta",{property:"al:ios:url",content:N}),l.createElement("meta",{name:"apple-itunes-app",content:"app-id=".concat(r,",app-argument=").concat(N)}),l.createElement("meta",{property:"al:android:app_name",content:"Medium"}),L&&l.createElement("meta",{name:"description",content:L}),M&&l.createElement("meta",{property:"og:description",content:M}),M&&l.createElement("meta",{property:"twitter:description",content:M}),l.createElement("meta",{property:"og:url",content:E}),l.createElement("meta",{property:"al:web:url",content:E}),T&&l.createElement("meta",{property:"og:image",content:T}),T&&l.createElement("meta",{name:"twitter:image:src",content:T}),l.createElement("meta",{name:"twitter:card",content:T?"summary_large_image":"summary"}),R&&l.createElement("meta",{property:"article:author",content:R}),R&&l.createElement("link",{rel:"author",href:R}),H&&l.createElement("meta",{name:"twitter:creator",content:"@".concat(H)}),I&&l.createElement("meta",{name:"author",content:I}),l.createElement("link",{rel:"canonical",href:u||E}),l.createElement("link",{rel:"alternate",href:Object(d.f)(Object(d.X)("medium.com",a.id))}),l.createElement("meta",{name:"robots",content:"".concat(U?"noindex":"index",",follow")}),l.createElement("meta",{name:"referrer",content:"UNLISTED"!==w?"unsafe-url":"origin"}),t?null:l.createElement("meta",{name:"twitter:label1",value:"Reading time"}),t?null:l.createElement("meta",{name:"twitter:data1",value:"".concat(V," min read")}),l.createElement("meta",{name:"parsely-post-id",content:b}))},[t,A,u,E,T,C,b,x,L,R,I,H,N,U,F]);return l.createElement(l.Fragment,null,z,l.createElement(j,{post:a,postDescription:L}))}),u()(O(),C,P.b))},"./src/components/post/PostPaywallAlert.jsx":function(e,t,n){"use strict";n.d(t,"a",function(){return v}),n.d(t,"b",function(){return x});var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),a=n("./node_modules/react/index.js"),i=n("./node_modules/graphql-tag/src/index.js"),l=n.n(i),s=n("./src/framework/design-system/components/index.js"),c=n("./src/framework/design-system/type/Detail.js"),u=n("./src/components/session/WithViewer.jsx"),m=n("./src/util/routes.js");function d(){var e=o()(["\n  fragment PostPaywallAlert_post on Post {\n    visibility\n    lockedSource\n    curationEligibleAt\n    collection {\n      isEnrolledInHightower\n      viewerCanManage\n    }\n    creator {\n      id\n      isPartnerProgramEnrolled\n    }\n  }\n"]);return d=function(){return e},e}var p=function(){return a.createElement(s.v,{href:Object(m.C)(),target:"_blank",inline:!0,linkStyle:"OBVIOUS"},"Learn more")},f=function(){return a.createElement(s.v,{href:Object(m.B)(),target:"_blank",inline:!0,linkStyle:"OBVIOUS"},"Learn more")},g=function(){return a.createElement(a.Fragment,null,"This story is not part of the metered paywall. ",a.createElement(p,null))},b={LOCKED:function(){return a.createElement(a.Fragment,null,"This story is eligible to be part of the metered paywall. ",a.createElement(f,null))},PUBLIC:g,UNLISTED:g},h={LOCKED:function(){return a.createElement(a.Fragment,null,"This story is eligible to earn money through the Partner Program. It may be shown as part of the metered paywall. ",a.createElement(f,null))},PUBLIC:function(){return a.createElement(a.Fragment,null,"This story is not eligible to earn money through the Partner Program. It is not part of the metered paywall. ",a.createElement(p,null))},UNLISTED:g};function E(e){var t=e.post,n=e.viewer,r=t.collection,o=t.lockedSource,i=t.creator,l=t.visibility,u=t.curationEligibleAt,m=!(!n||!t.creator||n.id!==t.creator.id),d=!(!t.collection||!t.collection.viewerCanManage);if(!m&&!d)return null;var p=r&&r.isEnrolledInHightower,f="LOCKED_POST_SOURCE_UGC"===o,g=m&&i&&i.isPartnerProgramEnrolled,E=f&&(d&&p||g&&!p)?h:b,v=!!(u&&u>0)?E.LOCKED:E[l];return a.createElement(s.K,{initialVisibility:!0},function(e){var t=e.hide;return e.isVisible&&a.createElement(s.b,{border:"BASE_LIGHT",borderRadius:"4px",position:"relative",marginTop:"24px",marginBottom:"15px"},a.createElement(s.g,{onClick:t,size:"LARGE"}),a.createElement(s.b,{padding:"20px"},a.createElement(s.b,{marginBottom:"8px"},a.createElement("i",null,a.createElement(c.a,{scale:"S"},"Only you can see this message"))),a.createElement(c.a,{scale:"M",color:"DARKER"},a.createElement(v,null))))})}function v(e){var t=e.post;return a.createElement(u.a,null,function(e){return a.createElement(E,{post:t,viewer:e})})}var x=l()(d())},"./src/components/post/PostPublishedDialog.jsx":function(e,t,n){"use strict";n.d(t,"a",function(){return O}),n.d(t,"b",function(){return k});var r=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(r),a=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),i=n.n(a),l=n("./node_modules/react/index.js"),s=n("./node_modules/graphql-tag/src/index.js"),c=n.n(s),u=n("./node_modules/react-redux/es/index.js"),m=n("./node_modules/react-apollo/react-apollo.esm.js"),d=n("./src/components/social/ShareButton.jsx"),p=n("./src/framework/design-system/components/index.js"),f=n("./src/framework/design-system/type/index.js"),g=n("./src/framework/design-system/util/type/headingSizeRule.js"),b=n("./src/framework/style/index.js"),h=n("./src/styles/colors.js"),E=n("./src/util/navigation.js"),v=n("./src/util/routes.js"),x=n("./src/components/session/WithViewer.jsx");function y(){var e=i()(["\n  fragment PostPublishedDialog_prerequisite_post on Post {\n    id\n    creator {\n      id\n    }\n    collection {\n      id\n      viewerCanManage\n    }\n  }\n"]);return y=function(){return e},e}function w(){var e=i()(["\n  query PostPublishedDialogQuery($postId: ID!) {\n    post(id: $postId) {\n      id\n      ...PostPublishedDialog_post\n    }\n  }\n  ","\n"]);return w=function(){return e},e}function j(){var e=i()(["\n  fragment PostPublishedDialog_post on Post {\n    id\n    inResponseToPostResult {\n      __typename\n    }\n    visibility\n    curationEligibleAt\n    mediumUrl\n    shareKey\n    ...ShareButton_post\n  }\n  ","\n"]);return j=function(){return e},e}var C=c()(j(),d.b),_=c()(w(),C),I=function(e){var t=e.url,n=e.label,r=l.useState(!1),a=o()(r,2),i=a[0],s=a[1],c=l.useState(null),u=o()(c,2),m=u[0],d=u[1],f=l.useRef(null);l.useEffect(function(){return function(){clearTimeout(m)}},[]);var g=l.useCallback(function(){var e=f.current;e&&(e.disabled=!1,e.select(),document.execCommand("copy"),e.disabled=!0,s(!0),clearTimeout(m),d(setTimeout(function(){return s(!1)},2e3)))});return l.createElement(l.Fragment,null,l.createElement("input",{disabled:!0,readOnly:!0,type:"text",ref:f,value:t,style:{position:"absolute",top:"-100vh"}}),l.createElement(p.b,{marginBottom:"8px"},l.createElement(p.c,{buttonStyle:"SOCIAL",size:"REGULAR",width:"212px",onClick:g},l.createElement(p.b,{display:"flex",alignItems:"center",justifyContent:"center"},i?"Copied!":n))))},S=function(e){var t=e.post,n=e.isUnlisted,r=e.postPath;e.authDomain;return l.createElement(p.b,{display:"flex",flexDirection:"column",alignItems:"center"},l.createElement(f.a,{color:"DARKER",scale:"L",tag:"p"},function(e){return e?"Share your story outside Medium.":"Share your story with the world."}(n)),l.createElement(p.b,{marginTop:"20px"},!n&&l.createElement(l.Fragment,null,l.createElement(p.b,{marginBottom:"8px"},l.createElement(d.a,{socialPlatform:"FACEBOOK",buttonStyle:"BUTTON_BRANDED",post:t})),l.createElement(p.b,{marginBottom:"8px"},l.createElement(d.a,{socialPlatform:"TWITTER",buttonStyle:"BUTTON_BRANDED",post:t}))),l.createElement(I,{url:r,label:"Copy story link"})))},P=function(e){var t=e.isVisible,n=e.hide,r=e.post,o=e.authDomain,a=Object(b.e)(),i=r.id,s=r.visibility,c=r.curationEligibleAt,u=r.mediumUrl,m=r.shareKey,d="UNLISTED"===s,x=!!c,y=Object(g.b)("h3");return l.createElement(p.j,{isVisible:t,hide:n,withAnimation:!0,withCloseButton:!1},l.createElement(p.b,{background:h.w,borderRadius:"4px",boxShadow:"0 2px 10px ".concat(Object(h.r)(.15)),position:"relative",width:"900px",textAlign:"center",md:{width:"600px"},sm:{width:"calc(100vw - 128px)"}},l.createElement(p.g,{onClick:n,size:"LARGE"}),l.createElement(p.b,{padding:"56px",display:"flex",flexDirection:"column",justifyContent:"center",minHeight:"485px"},l.createElement(p.b,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},l.createElement("h3",{className:a(y)},"Your story is published!"),l.createElement(p.b,{maxWidth:"520px",marginTop:"20px"},l.createElement(f.a,{color:"DARKER",scale:"L",tag:"p"},function(e,t){return e?"Your unlisted story will not appear publicly on Medium, but you can still share it.":t?"If our curators recommend your story to readers by adding it to relevant topics, we will email you to let you know. Recommended stories are part of Medium's metered paywall, and you can use the custom Friend Link below to give anyone who clicks it free access to your story.":"You chose not to make this story eligible for review by curators and distribution through Medium topics. Your story will only be shared on Medium with readers who follow you."}(d,x))),l.createElement(p.b,{paddingTop:"20px"},x&&!d&&u&&m&&l.createElement(I,{url:Object(E.a)(Object(v.W)(r),{sk:m}),label:"Copy Friend Link"})),l.createElement(p.b,{borderBottom:"BASE_LIGHTER",width:"100%",margin:"20px 0"})),i&&u&&l.createElement(S,{post:r,isUnlisted:d,postPath:Object(v.W)(r),authDomain:o}))))},O=Object(u.b)(function(e){return{authDomain:e.config.authDomain}})(function(e){var t=e.post;return l.createElement(x.a,null,function(n){return n&&n.id&&(n.id===(t.creator&&t.creator.id)||t.collection&&t.collection.viewerCanManage)?l.createElement(m.c,{ssr:!1,query:_,variables:{postId:t.id}},function(t){var n=t.loading,r=(t.error,t.data),o=(r=void 0===r?{}:r).post;if(n||!o||o.inResponseToPostResult)return null;var a={authDomain:e.authDomain,isVisible:e.isVisible,hide:e.hide,post:o};return l.createElement(P,a)}):null})}),k=c()(y())},"./src/components/post/PostSidebar.jsx":function(e,t,n){"use strict";n.d(t,"b",function(){return k}),n.d(t,"a",function(){return B});var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),a=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),i=n.n(a),l=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),s=n.n(l),c=n("./node_modules/react/index.js"),u=n("./node_modules/graphql-tag/src/index.js"),m=n.n(u),d=n("./node_modules/react-redux/es/index.js"),p=n("./src/util/routes.js"),f=n("./src/components/collection/CollectionFollowButton.jsx"),g=n("./src/components/post/multivote/MultiVote.jsx"),b=n("./src/components/post/bookmark/index.js"),h=n("./src/framework/track/DomMonitorContext.js"),E=n("./src/framework/style/index.js"),v=n("./src/framework/design-system/components/index.js"),x=n("./src/framework/design-system/type/index.js"),y=n("./src/styles/breakpoints.js"),w=n("./src/util/dom.js"),j=n("./src/WatchBounds.js"),C=n("./src/framework/source/index.js"),_=n("./src/styles/mediaTypes.js");function I(){var e=o()(["\n  fragment PostSidebar_post on Post {\n    id\n    clapCount\n    collection {\n      id\n      description\n      ...CollectionFollowButton_collection\n      ...collectionUrl_collection\n    }\n    ...BookmarkButton_post\n    ...CollectionFollowButton_post\n    ...MultiVote_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return I=function(){return e},e}var S=function(e){return function(t){var n;return n={opacity:e?1:0,pointerEvents:e?"auto":"none",willChange:"opacity",position:"fixed",width:"131px",left:"50%",transform:"translateX(-516px)",top:"calc(65px + 54px + 40px)"},s()(n,Object(_.a)("no-preference"),{transition:"opacity 200ms"}),s()(n,y.lg(t),{display:"none"}),n}};var P=function(e,t){return function(){var n=new IntersectionObserver(function(n){var r=e.get("ghost-track");if(r){var o=n.find(function(e){return e.target===r.ref.current});o&&t(o.isIntersecting)}else t(!1)});return e.forEach(function(e){e.ref.current&&n.observe(e.ref.current)}),function(){n.disconnect()}}},O=function(e,t){return function(){return e.on("scroll_throttled",t),e.on("scroll_end",t),e.on("resize_throttled",t),function(){e.off("scroll_throttled",t),e.off("scroll_end",t),e.off("resize_throttled",t)}}};var k=m()(I(),f.c,p.y,f.b,b.b,g.b),B=Object(d.b)(function(e){return{currentLocation:e.navigation.currentLocation}})(function(e){var t=e.currentLocation,n=e.isClearOfBounds,r=e.isOnPage,o=e.post,a=Object(E.e)(),l=c.useContext(j.b).watchedBounds,s=c.useState(r||!1),u=i()(s,2),m=u[0],d=u[1],y=c.useState(n||!1),_=i()(y,2),I=_[0],k=_[1],B=c.useRef(),T=o.collection,R=Object(h.b)();c.useEffect(P(l,d),[l]);var A=c.useCallback(function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return function(){var o=e.current;if(o){var a=r.threshold||10,i=["image","bgimage","footer","byline","title","header"],l=Array.from(t.values()).filter(function(e){var t=e.ref,n=e.opts;return i.includes(n.type)&&!!t.current}).map(function(e){var t=e.ref,n=e.opts,r=n&&n.offset,o=Object(w.a)(t.current);return Object(w.h)(o,r)}),s=Object(w.a)(o),c=!l.some(function(e){return Object(w.f)(e,s,a)});n(c)}}}(B,l,k,{threshold:10}),[l,k]);c.useEffect(O(R,A),[R,A]);var L=m&&I;return c.createElement(C.b,{source:{susiEntry:"post_sidebar",name:"post_sidebar"}},c.createElement("div",{className:a(S(L)),ref:B,"data-test-id":"post-sidebar"},c.createElement(v.b,{display:"flex",flexDirection:"column"},T&&c.createElement(v.b,{paddingBottom:"28px",borderBottom:"BASE_LIGHTER"},T.name&&c.createElement(v.v,{href:Object(p.x)(T,t)},c.createElement(x.b,{scale:"XS"},T.name)),T.description&&c.createElement(v.b,{paddingTop:"2px",paddingBottom:"20px"},c.createElement(x.a,{scale:"M",clamp:6},T.description)),c.createElement(C.b,{source:{susiEntry:"follow_sidebar"},extendSource:!0},c.createElement(f.a,{collection:T,post:o}))),c.createElement(C.b,{source:{susiEntry:"clap_sidebar"},extendSource:!0},c.createElement(v.b,{display:"flex",marginBottom:"19px",marginLeft:"-5px",paddingTop:"28px"},c.createElement(g.a,{post:o,buttonStyle:"SUBTLE_PADDED",hasDialog:!0}))),c.createElement(b.a,{post:o}))))})},"./src/components/post/body/InteractivePostBody.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),o=n.n(r),a=n("./node_modules/@babel/runtime/helpers/extends.js"),i=n.n(a),l=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),s=n.n(l),c=n("./node_modules/react/index.js"),u=n("./node_modules/graphql-tag/src/index.js"),m=n.n(u),d=n("./node_modules/react-apollo/react-apollo.esm.js"),p=n("./src/components/post/body/PostBody.jsx"),f=n("./src/components/post/body/ActivePrivateNoteContext.js"),g=n("./src/components/post/body/ActiveSelectionContext.js"),b=n("./src/components/post/markups/HighlightSegmentsContext.js");function h(){var e=s()(["\n  fragment NormalizeHighlights_paragraph on Paragraph {\n    name\n    text\n  }\n"]);return h=function(){return e},e}function E(){var e=s()(["\n  fragment NormalizeHighlights_highlight on Quote {\n    endOffset\n    startOffset\n    paragraphs {\n      name\n      text\n    }\n  }\n"]);return E=function(){return e},e}function v(e,t,n){if(!e||"number"!=typeof t||"number"!=typeof n)return null;var r=t,o=n;return e.substr(r,o-r)}var x=m()(E()),y=m()(h()),w=n("./src/components/post/body/ParagraphRefsMapContext.js"),j=n("./src/components/session/WithFlag.jsx"),C=n("./src/components/session/WithViewer.jsx");function _(){var e=s()(["\n  query InteractivePostBodyQuery($postId: ID!, $showHighlights: Boolean!, $showNotes: Boolean!) {\n    post(id: $postId) {\n      id\n      highlights @include(if: $showHighlights) {\n        id\n        ...ActiveSelectionContext_highlight\n        ...HighlighSegmentContext_highlight\n        ...NormalizeHighlights_highlight\n        ...PostBody_highlight\n      }\n      privateNotes @include(if: $showNotes) {\n        ...PostBody_privateNote\n      }\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return _=function(){return e},e}function I(){var e=s()(["\n  fragment InteractivePostBody_post on Post {\n    id\n    # please note that the postMeteringOptions is defined in handlers that use InteractivePostBody\n    # (PostHandler and SequencePostHandler)\n    content(postMeteringOptions: $postMeteringOptions) {\n      isLockedPreviewOnly\n      bodyModel {\n        ...PostBody_bodyModel\n        paragraphs {\n          ...HighlighSegmentContext_paragraph\n          ...NormalizeHighlights_paragraph\n        }\n      }\n    }\n    creator {\n      id\n      allowNotes\n      ...PostBody_creator\n    }\n    ...ActiveSelectionContext_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return I=function(){return e},e}n.d(t,"a",function(){return S});var S=m()(I(),g.c,b.b,y,p.a,p.b),P=m()(_(),g.b,b.a,p.c,p.d,x),O=c.forwardRef(function(e,t){var n=e.post,r=e.postBodyInserts,a=e.activeGrafId,l=e.activeNoteId,s=n.content,u=n.latestPublishedVersion;if(!s)throw new Error("Expected post to have content.");var m={bodyModel:s.bodyModel,creator:n.creator,postBodyInserts:r,ref:t,richTextStyle:"FULL_PAGE"},h=n&&n.creator&&n.creator.allowNotes||!1;return c.createElement(j.a,{name:"enable_lite_post_highlights_view_only",nonBlocking:!0},function(e){return s.isLockedPreviewOnly||!e?c.createElement(p.e,m):c.createElement(d.c,{notifyOnNetworkStatusChange:!0,ssr:!1,query:P,variables:{postId:n.id,showHighlights:e,showNotes:h}},function(e){e.loading,e.error;var t=e.data,r=(t=void 0===t?{}:t).post,d=s.bodyModel&&s.bodyModel.paragraphs,h=function(e,t){return e&&t?e.map(function(e){var n=e.endOffset,r=e.startOffset,a=e.paragraphs&&e.paragraphs[0],i=function(e,t){return e?t.find(function(t){var n=t.name;return e===n}):null}(a.name,t);if(!a||!i)return null;var l=v(a.text,r,n),s=v(i.text,r,n);if(!l||!s)return null;if(l===s)return e;var c=i.text?i.text.indexOf(l):null;if("number"!=typeof c||c<0)return null;var u=c+l.length;return o()({},e,{endOffset:u,startOffset:c})}).filter(Boolean):e}(r&&r.highlights||null,d),E=r&&r.privateNotes||null;return c.createElement(w.b,null,c.createElement(j.a,{name:"enable_lite_post_highlights",nonBlocking:!0},function(e){var t=c.createElement(p.e,i()({},m,{highlights:h,privateNotes:E}));return e?c.createElement(f.a,{initialActivePrivateNoteId:l,initialActiveGrafName:a},c.createElement(g.d,{interactivePost:o()({},n,{latestPublishedVersion:u}),highlights:h},c.createElement(C.a,{nonBlocking:!0},function(e){return c.createElement(b.d,{highlights:h,paragraphs:d,viewer:e},t)}))):t}))})})});t.b=O},"./src/components/post/footer/PostFooter.jsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),a=n("./node_modules/graphql-tag/src/index.js"),i=n.n(a),l=n("./node_modules/react/index.js"),s=n.n(l),c=n("./node_modules/react-redux/es/index.js"),u=n("./src/framework/design-system/components/index.js"),m=n("./src/framework/design-system/type/index.js"),d=n("./src/framework/style/index.js"),p=n("./src/styles/flex.js"),f=n("./src/util/post/claps.js"),g=n("./node_modules/@babel/runtime/helpers/extends.js"),b=n.n(g),h=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),E=n.n(h),v=n("./node_modules/react-apollo/react-apollo.esm.js"),x=n("./src/components/collection/CollectionAvatar.jsx");function y(){var e=o()(["\n  fragment ManageSubmission_post on Post {\n    id\n    statusForCollection\n    collection {\n      ...ManageSubmission_collection\n    }\n    pendingCollection {\n      ...ManageSubmission_collection\n    }\n    creator {\n      id\n    }\n  }\n  ","\n"]);return y=function(){return e},e}function w(){var e=o()(["\n  fragment ManageSubmission_collection on Collection {\n    name\n    viewerCanManage\n    creator {\n      id\n    }\n    ...CollectionAvatar_collection\n  }\n  ","\n"]);return w=function(){return e},e}var j=function(e,t){return t&&e.creator&&t.id===e.creator.id},C=function(e,t){var n=e.pendingCollection||e.collection;return n&&n.creator&&t.id===n.creator.id},_=function(e){var t=e.pendingCollection||e.collection;return t&&t.viewerCanManage},I=i()(w(),x.b),S=i()(y(),I),P=n("./src/components/session/WithViewer.jsx"),O=n("./src/components/ui/PopoverMenu.jsx");function k(){var e=o()(["\n  fragment CollectionSubmission_post on Post {\n    id\n    ...CollectionSubmissionPopover_post\n    ...CollectionSubmissionPopoverMenuItem_post\n  }\n  ","\n  ","\n"]);return k=function(){return e},e}function B(){var e=o()(["\n  fragment CollectionSubmissionPopover_post on Post {\n    id\n    isPublished\n    creator {\n      id\n    }\n  }\n"]);return B=function(){return e},e}function T(){var e=o()(["\n  fragment CollectionSubmissionPopoverMenuItem_post on Post {\n    id\n    statusForCollection\n    isPublished\n    creator {\n      id\n    }\n  }\n"]);return T=function(){return e},e}function R(){var e=o()(["\n  query CollectionSubmissionPopover {\n    viewer {\n      id\n      writerCollections {\n        ...CollectionSubmissionPopoverQuery_collection\n      }\n      adminCollections {\n        ...CollectionSubmissionPopoverQuery_collection\n      }\n    }\n  }\n  ","\n"]);return R=function(){return e},e}function A(){var e=o()(["\n  mutation CollectionSubmission_manageCollectionPostStatusMutation(\n    $postId: ID!\n    $collectionSlug: String!\n    $status: CollectionPostStatus!\n  ) {\n    manageCollectionPostStatus(postId: $postId, collectionSlug: $collectionSlug, status: $status) {\n      id\n      statusForCollection\n      pendingCollection {\n        ...CollectionSubmissionPopoverQuery_collection\n      }\n    }\n  }\n  ","\n"]);return A=function(){return e},e}function L(){var e=o()(["\n  fragment CollectionSubmissionPopoverQuery_collection on Collection {\n    ...CollectionSubmissionOption_collection\n    ...ManageSubmission_collection\n  }\n  ","\n  ","\n"]);return L=function(){return e},e}function M(){var e=o()(["\n  fragment CollectionSubmissionOption_collection on Collection {\n    id\n    name\n    slug\n    ...CollectionAvatar_collection\n  }\n  ","\n"]);return M=function(){return e},e}var D=i()(M(),x.b),N=i()(L(),D,I),U=i()(A(),N),F=i()(R(),N),V=i()(T()),H=i()(B()),W=i()(k(),H,V),$=[{name:"",value:"No publication",content:l.createElement(u.b,{height:"32px",display:"flex",alignItems:"center",marginLeft:"5px"},l.createElement(m.a,{scale:"M",color:"DARKER"},"No publication"))}];function z(e){var t=e.collection;return t.name?l.createElement(u.b,{display:"flex",justifyContent:"space-between",width:"200px",alignItems:"center",marginLeft:"5px"},l.createElement(m.a,{scale:"M",color:"DARKER"},t.name),l.createElement(x.a,{collection:t,size:32})):null}function G(e){var t=e.show,n=e.post,r=n.statusForCollection,o=n.isPublished,a=n.creator;return r||!o?null:l.createElement(P.a,null,function(e){return!!e&&!!a&&e.id===a.id&&l.createElement(v.c,{query:F,ssr:!1},function(e){var r=e.loading,o=e.error,a=e.data;if(r||o)return null;var i=a.viewer,s=n.creator;if(!i||!s||i.id!==s.id)return null;var c=i.adminCollections,m=i.writerCollections;return 0===c.length&&0===m.length?null:l.createElement(O.b,null,l.createElement(u.v,{onClick:t},"Add to publication"))})})}function q(e){var t=e.isVisible,n=e.hide;return l.createElement(u.j,{isVisible:t,hide:n,withCloseButton:!0},l.createElement(u.b,{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",maxWidth:"480px"},l.createElement(u.o,null,"Story submitted"),l.createElement(u.b,{paddingTop:"8px",paddingBottom:"24px"},l.createElement(u.D,null,"We’ll email you when the publication editor has reviewed your submission.")),l.createElement(u.c,{buttonStyle:"OBVIOUS",onClick:n},"OK")))}var K=Object(v.d)(Object(v.f)(U,{name:"manageCollectionPostStatusMutation",props:function(e){var t=e.ownProps,n=e.manageCollectionPostStatusMutation;return{addPostToCollection:function(e){return n({variables:{postId:t.post.id,collectionSlug:e.slug,status:"APPROVED"}})},submitPostToCollection:function(e){return n({variables:{postId:t.post.id,collectionSlug:e.slug,status:"PENDING"},optimisticResponse:{__typename:"Mutation",manageCollectionPostStatus:{__typename:"Post",id:t.post.id,statusForCollection:"PENDING",pendingCollection:e}}})}}}}))(function(e){var t=e.post,n=e.addPostToCollection,r=e.submitPostToCollection,o=(e.dispatch,e.hide),a=e.showLoadingIndicator,i=e.isVisible,s=e.children,c=l.useState(""),d=E()(c,2),p=d[0],f=d[1];return t.isPublished?l.createElement(u.K,null,function(e){var c=e.isVisible,d=e.hide,g=e.show;return l.createElement(l.Fragment,null,l.createElement(q,{hide:d,isVisible:c}),l.createElement(v.c,{query:F,ssr:!1},function(e){var c=e.loading,d=e.error,b=e.data;if(c||d)return s;var h=b.viewer,E=t.creator;if(!h||!E||h.id!==E.id)return s;var v=h.adminCollections,x=h.writerCollections;if(0===v.length&&0===x.length)return s;var y=v.concat(x).filter(function(e){return!!e&&!!e.slug&&!!e.name}).map(function(e){return{name:e.slug,value:e.name,content:l.createElement(z,{collection:e})}}),w=$.concat(y),j=v.reduce(function(e,t){return e[t.slug]=t,e},{}),C=x.reduce(function(e,t){return e[t.slug]=t,e},{});return l.createElement(u.y,{placement:"top",hide:o,isVisible:i,popoverRenderFn:function(){return l.createElement(u.b,{padding:"20px",width:"280px",display:"flex",flexDirection:"column"},l.createElement(m.a,{scale:"M",color:"DARKER"},"Add your story to a publication:"),l.createElement(u.b,{marginTop:"10px"},l.createElement(u.A,{onChange:f,options:w})),l.createElement(u.b,{display:"flex",marginTop:"20px"},l.createElement(m.a,{scale:"M",color:"LIGHTER"},p in j?l.createElement(u.c,{onClick:function(){var e=j[p];o(),a(),n(e).then(function(){window.location.reload(!1)})},buttonStyle:"OBVIOUS"},"Add story"):l.createElement(u.c,{onClick:function(){var e=C[p];r(e),o(),g()},disabled:!p},"Submit")),l.createElement(u.b,{marginLeft:"10px"},l.createElement(m.a,{scale:"M",color:"LIGHTER"},l.createElement(u.v,{onClick:o},l.createElement(u.b,{padding:"10px"},"Cancel"))))),l.createElement(u.b,{marginTop:"10px"},l.createElement(m.a,{scale:"M"},"This story will be automatically submitted to the publication. When you submit your story, the publication's editors will be notified and will be able to edit your story.")))}},s)}))}):s}),Y=Object(c.b)()(K),X=n("./src/store/actions/navigation.js");function Q(){var e=o()(["\n  mutation ManageSubmissionButton_manageCollectionPostStatusMutation(\n    $postId: ID!\n    $collectionSlug: String!\n    $status: CollectionPostStatus!\n  ) {\n    manageCollectionPostStatus(postId: $postId, collectionSlug: $collectionSlug, status: $status) {\n      id\n      statusForCollection\n      pendingCollection {\n        id\n      }\n    }\n  }\n"]);return Q=function(){return e},e}var J=i()(Q()),Z=function(e){var t=e.viewer,n=e.show,r=e.post;return t&&"PENDING"===r.statusForCollection&&(_(r)||C(r,t))?l.createElement(O.b,null,l.createElement(u.v,{onClick:n},"Manage submission")):null},ee=Object(v.d)(Object(v.f)(J,{name:"manageCollectionPostStatusMutation",props:function(e){var t=e.ownProps,n=e.manageCollectionPostStatusMutation;return{approveCollectionSubmission:function(){return n({variables:{postId:t.post.id,collectionSlug:t.post.pendingCollection.slug,status:"APPROVED"}})},rejectCollectionSubmission:function(){return n({variables:{postId:t.post.id,collectionSlug:t.post.pendingCollection.slug,status:"REMOVED"},optimisticResponse:{__typename:"Mutation",manageCollectionPostStatus:{__typename:"Post",id:t.post.id,statusForCollection:null,pendingCollection:null}}})}}}}))(function(e){var t=e.children,n=e.isVisible,r=e.post,o=e.hide,a=e.showLoadingIndicator,i=e.approveCollectionSubmission,s=e.rejectCollectionSubmission,c=e.dispatch,d=r.pendingCollection;return d?l.createElement(l.Fragment,null,l.createElement(u.y,{isVisible:n,hide:o,popoverRenderFn:function(){return l.createElement(u.b,{padding:"16px",maxWidth:"280px"},l.createElement(u.b,{display:"flex",flexDirection:"row",alignItems:"center"},l.createElement(u.b,{paddingRight:"8px"},l.createElement(x.a,{collection:d,size:40})),l.createElement(m.a,{scale:"S"},"This draft is submitted to ",d.name,".")),l.createElement(u.b,{flexDirection:"row",display:"flex",paddingTop:"16px"},l.createElement(u.b,{paddingRight:"8px"},l.createElement(u.c,{buttonStyle:"OBVIOUS",onClick:function(){o(),a(),i().then(function(){window.location.reload(!1)})}},"Accept")),l.createElement(u.c,{buttonStyle:"SUBTLE",onClick:function(){s().then(function(){c(Object(X.j)({message:"Story removed from ".concat(d.name||"publication")}))}),o()}},"Don't accept")))}},t)):t}),te=Object(c.b)()(ee);function ne(){var e=o()(["\n  mutation ManageCollectionPostStatus_manageCollectionPostStatusMutation(\n    $postId: ID!\n    $collectionSlug: String!\n    $status: CollectionPostStatus!\n  ) {\n    manageCollectionPostStatus(postId: $postId, collectionSlug: $collectionSlug, status: $status) {\n      id\n      statusForCollection\n      collection {\n        id\n      }\n      pendingCollection {\n        id\n      }\n    }\n  }\n"]);return ne=function(){return e},e}var re=i()(ne()),oe=Object(v.d)(Object(v.f)(re,{name:"manageCollectionPostStatusMutation",props:function(e){var t=e.ownProps,n=e.manageCollectionPostStatusMutation;return{removePostFromCollection:function(){var e=t.post.collection||t.post.pendingCollection;return n({variables:{postId:t.post.id,collectionSlug:e.slug,status:"REMOVED"},optimisticResponse:{__typename:"Mutation",manageCollectionPostStatus:{__typename:"Post",id:t.post.id,statusForCollection:null,collection:null,pendingCollection:null}}})}}}})),ae=function(e){var t=e.viewer,n=e.show,r=e.post;return t&&("APPROVED"===r.statusForCollection&&(_(r)||C(r,t)||j(r,t))||"PENDING"===r.statusForCollection&&j(r,t))?l.createElement(O.b,null,l.createElement(u.v,{onClick:n},"Remove story from publication")):null},ie=oe(function(e){var t=e.children,n=e.isVisible,r=e.hide,o=e.post,a=e.viewer,i=e.removePostFromCollection,s=e.dispatch,c=o.collection||o.pendingCollection;return c?l.createElement(l.Fragment,null,l.createElement(u.y,{isVisible:n,hide:r,popoverRenderFn:function(){return l.createElement(u.b,{padding:"16px",maxWidth:"280px"},l.createElement(u.b,{display:"flex",flexDirection:"row",alignItems:"center"},l.createElement(u.b,{paddingRight:"8px"},l.createElement(x.a,{collection:c,size:40})),"APPROVED"===o.statusForCollection?l.createElement(m.a,{scale:"S"},j(o,a)?"Your":"This"," story is published in"," ",c.name,"."):"PENDING"===o.statusForCollection?l.createElement(m.a,{scale:"S"},"Your story is being reviewed by ",c.name," editors."):l.createElement(m.a,{scale:"S"},"This draft is submitted to ",c.name)),l.createElement(u.b,{flexDirection:"row",display:"flex",paddingTop:"16px"},l.createElement(u.b,{paddingRight:"8px"},l.createElement(u.c,{buttonStyle:"SUBTLE",onClick:function(){i().then(function(){s(Object(X.j)({message:"Story removed from ".concat(c.name||"publication")}))}),r()}},"PENDING"===o.statusForCollection?"Cancel submission":"Remove from ".concat(c.name||"")))))}},t)):t}),le=Object(c.b)()(ie),se=n("./src/components/social/ShareButton.jsx"),ce=n("./src/framework/source/SourceContext.jsx"),ue=n("./src/components/susi/SusiClickable.jsx"),me=n("./src/components/post/bookmark/index.js");function de(){return(de=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var pe=s.a.createElement("g",{fillRule:"evenodd"},s.a.createElement("path",{d:"M15.6 5a.42.42 0 0 0 .17-.3.42.42 0 0 0-.12-.33l-2.8-2.79a.5.5 0 0 0-.7 0l-2.8 2.8a.4.4 0 0 0-.1.32c0 .12.07.23.16.3h.02a.45.45 0 0 0 .57-.04l2-2V10c0 .28.23.5.5.5s.5-.22.5-.5V2.93l2.02 2.02c.08.07.18.12.3.13.11.01.21-.02.3-.08v.01"}),s.a.createElement("path",{d:"M18 7h-1.5a.5.5 0 0 0 0 1h1.6c.5 0 .9.4.9.9v10.2c0 .5-.4.9-.9.9H6.9a.9.9 0 0 1-.9-.9V8.9c0-.5.4-.9.9-.9h1.6a.5.5 0 0 0 .35-.15A.5.5 0 0 0 9 7.5a.5.5 0 0 0-.15-.35A.5.5 0 0 0 8.5 7H7a2 2 0 0 0-2 2v10c0 1.1.9 2 2 2h11a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2"})),fe=function(e){return s.a.createElement("svg",de({width:25,height:25},e),pe)};function ge(){var e=o()(["\n  fragment PostFooterSocialPopover_post on Post {\n    id\n    ...ShareButton_post\n  }\n  ","\n"]);return ge=function(){return e},e}function be(e){return{fill:e.baseColor.fill.normal}}function he(){return l.createElement(u.L,null,function(e){return l.createElement(fe,{className:e(be)})})}var Ee=Object(c.b)(function(e){return{authDomain:e.config.authDomain}})(function(e){var t=e.post;return e.authDomain,l.createElement(u.K,null,function(e){var n=e.isVisible,r=e.toggle,o=e.hide;return l.createElement(u.y,{isVisible:n,hide:o,popoverRenderFn:function(){return l.createElement(O.a,null,l.createElement(O.b,null,l.createElement(u.b,{marginTop:"-4px",marginBottom:"12px"},l.createElement(se.a,{socialPlatform:"TWITTER",buttonStyle:"LINK_INLINE",post:t})),l.createElement(u.b,{marginBottom:"-3px"},l.createElement(se.a,{socialPlatform:"FACEBOOK",buttonStyle:"LINK_INLINE",post:t}))))}},l.createElement(u.v,{onClick:r},l.createElement(he,null)))})}),ve=i()(ge(),se.b),xe=n("./src/components/post/multivote/MultiVote.jsx"),ye=n("./src/components/mutations/UserBlockMutation.jsx");function we(){var e=o()(["\n  mutation UserReportStoryMutation(\n    $targetPostId: ID!\n    $targetAuthorId: ID!\n    $alsoBlockAuthor: Boolean!\n    $reason: String!\n  ) {\n    reportStoryAndMaybeBlockAuthor(\n      targetPostId: $targetPostId\n      targetAuthorId: $targetAuthorId\n      alsoBlockAuthor: $alsoBlockAuthor\n      reason: $reason\n    ) {\n      id\n      isBlocking\n    }\n  }\n"]);return we=function(){return e},e}var je=i()(we()),Ce=Object(c.b)()(function(e){var t=e.targetAuthorId,n=e.targetPostId,r=e.dispatch,o=e.children,a=e.onOptimisticComplete,i=e.isBlocking;return l.createElement(v.b,{mutation:je,onCompleted:function(){r(Object(X.j)({message:"Successfully reported post."}))}},function(e){return o({mutate:function(r,o){var l=e({variables:{targetAuthorId:t,targetPostId:n,alsoBlockAuthor:r,reason:o},optimisticResponse:{__typename:"Mutation",reportStoryAndMaybeBlockAuthor:{__typename:"User",id:t,isBlocking:i||r}}});return a&&a(),l}})})}),_e=n("./src/components/mutations/UserUnblockMutation.jsx"),Ie=n("./src/components/user/UserBlockConfirmDialog.jsx"),Se=n("./src/components/style/BaseThemeProvider.js"),Pe=function(e){var t=e.isVisible,n=e.hide,r=e.onSubmit,o=!1,a="spam";return l.createElement(Se.a,null,l.createElement(u.j,{isVisible:t,hide:n},l.createElement(u.b,{display:"flex",margin:"auto",flexDirection:"column",alignItems:"center",width:"100%",height:"100%"},l.createElement(m.b,{scale:"M"},"Report Story"),l.createElement(u.b,{display:"flex",flexDirection:"column",width:"100%",paddingRight:"5px",marginBottom:"30px"},l.createElement(u.b,{marginTop:"25px",marginBottom:"30px",padding:"5px 0"},l.createElement(u.A,{onChange:function(e){a=e},options:[{name:"Spam",value:"Spam"},{name:"Harassment",value:"Harassment"},{name:"Other",value:"Rules Violation"}]})),l.createElement(u.e,{onChange:function(){o=!o}},"Also block the author of this story")),l.createElement(u.b,{display:"flex",justifyContent:"center",marginBottom:"10px"},l.createElement(u.b,{marginRight:"8px"},l.createElement(u.c,{buttonStyle:"OBVIOUS",onClick:function(){r(o,a),n()}},"Report")),l.createElement(u.c,{onClick:n},"Cancel")),l.createElement(u.b,{marginTop:"50px",textAlign:"center"},l.createElement(u.d,null,"Report"," ",l.createElement(u.v,{href:"https://medium.com/policy/mediums-copyright-and-dmca-policy-d126f73695",linkStyle:"OBVIOUS",inline:!0},"copyright infringement")," ","or"," ",l.createElement(u.v,{href:"https://medium.com/policy/mediums-trademark-policy-e3bb53df59a7",linkStyle:"OBVIOUS",inline:!0},"trademark infringement"),".",l.createElement("br",null),"Read"," ",l.createElement(u.v,{href:"https://medium.com/policy/medium-rules-30e5502c4eb4",linkStyle:"OBVIOUS",inline:!0},"our rules"),".")))))};function Oe(){var e=o()(["\n  mutation PostAllowResponsesMutation($targetPostId: ID!, $allowResponses: Boolean!) {\n    setPostAllowResponses(targetPostId: $targetPostId, allowResponses: $allowResponses) {\n      id\n      allowResponses\n    }\n  }\n"]);return Oe=function(){return e},e}var ke=i()(Oe()),Be=Object(c.b)()(function(e){var t=e.children,n=e.dispatch,r=e.onCompleted,o=e.targetPostId;return l.createElement(v.b,{mutation:ke,onCompleted:function(e){n(Object(X.j)({message:"Responses are now hidden for this post."})),r&&r()},variables:{targetPostId:o,allowResponses:!1},optimisticResponse:{__typename:"Mutation",setPostAllowResponses:{__typename:"Post",id:o,allowResponses:!1}}},function(e){return t({mutate:e})})}),Te=Object(c.b)()(function(e){var t=e.children,n=e.dispatch,r=e.onCompleted,o=e.targetPostId;return l.createElement(v.b,{mutation:ke,onCompleted:function(e){n(Object(X.j)({message:"Responses are now shown for this post."})),r&&r()},variables:{targetPostId:o,allowResponses:!0},optimisticResponse:{__typename:"Mutation",setPostAllowResponses:{__typename:"Post",id:o,allowResponses:!0}}},function(e){return t({mutate:e})})}),Re=function(e){var t=e.onConfirm,n=e.isVisible,r=e.hide;return l.createElement(u.h,{onConfirm:t,isVisible:n,hide:r,titleText:"Hide responses",cancelText:"Cancel",confirmText:"Confirm"},"People will still be able to respond, but the link to see responses will not be displayed at the bottom of your post.")};function Ae(){return(Ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Le=s.a.createElement("path",{d:"M-463 284.6c.9 0 1.6-.7 1.6-1.6s-.7-1.6-1.6-1.6-1.6.7-1.6 1.6.7 1.6 1.6 1.6zm0 .9c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5zm-7-.9c.9 0 1.6-.7 1.6-1.6s-.7-1.6-1.6-1.6-1.6.7-1.6 1.6.7 1.6 1.6 1.6zm0 .9c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5zm-7-.9c.9 0 1.6-.7 1.6-1.6s-.7-1.6-1.6-1.6-1.6.7-1.6 1.6.7 1.6 1.6 1.6zm0 .9c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5z"}),Me=function(e){return s.a.createElement("svg",Ae({width:25,height:25,viewBox:"-480.5 272.5 21 21"},e),Le)},De=n("./src/components/session/WithFlag.jsx");function Ne(){var e=o()(["\n  fragment PostFooterActionsBar_post on Post {\n    id\n    visibility\n    isPublished\n    allowResponses\n    viewerClapCount\n    content(postMeteringOptions: $postMeteringOptions) {\n      isLockedPreviewOnly\n    }\n    creator {\n      id\n      isBlocking\n    }\n    collection {\n      id\n      viewerCanManage\n    }\n    ...BookmarkButton_post\n    ...MultiVote_post\n    ...SusiClickable_post\n    ...PostFooterSocialPopover_post\n    ...ManageSubmission_post\n    ...CollectionSubmission_post\n    ...ShareButton_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return Ne=function(){return e},e}function Ue(e){return{fill:e.baseColor.fill.normal}}function Fe(){return l.createElement(u.L,null,function(e){return l.createElement(Me,{className:e(Ue)})})}var Ve=Object(c.b)(function(e){return{authDomain:e.config.authDomain}})(function(e){var t=e.post,n=e.viewerId,r=e.submitClaps,o=e.clapsForPost,a=e.setClapCountsForPost,i=(e.authDomain,l.useState(!1)),s=E()(i,2),c=s[0],m=s[1],d=l.useState(!1),p=E()(d,2),f=p[0],g=p[1],b=l.useState(!1),h=E()(b,2),v=h[0],x=h[1],y=t.id,w=t.visibility,j=t.isPublished,C=t.allowResponses,_=t.content,I=t.creator,S=t.collection,k="UNLISTED"===w,B=(S||{}).viewerCanManage,T=o.clapCount,R=o.viewerClapCount,A=(_||{}).isLockedPreviewOnly,L=l.createElement(ce.b,{source:{name:"post_actions_footer",susiEntry:"clap_footer"}},l.createElement(xe.a,{post:t,buttonStyle:"OBVIOUS",hasDialog:!0})),M=l.createElement(De.a,{name:"enable_disregard_trunc_state_for_footer"},function(e){return e?L:!A&&L});return l.createElement(u.K,null,function(e){var o=e.isVisible,i=e.show;return l.createElement(l.Fragment,null,o&&l.createElement(u.w,null),l.createElement(P.a,null,function(e){return l.createElement(u.b,{display:"flex",justifyContent:"space-between",marginTop:"15px",print:{display:"none"}},M,l.createElement(u.b,{display:"flex",alignItems:"center"},j&&l.createElement(l.Fragment,null,l.createElement(u.b,{sm:{display:"none"},flexGrow:"0",paddingRight:"8px"},!k&&l.createElement(se.a,{socialPlatform:"TWITTER",buttonStyle:t.isLimitedState?"LINK_DISABLED":"LINK",post:t})),l.createElement(u.b,{sm:{display:"none"},flexGrow:"0",paddingRight:"8px"},!k&&l.createElement(se.a,{socialPlatform:"FACEBOOK",buttonStyle:t.isLimitedState?"LINK_DISABLED":"LINK",post:t})),l.createElement(u.b,{display:"none",sm:{display:"block"},paddingRight:"8px"},!k&&l.createElement(Ee,{post:{id:t.id}})),l.createElement(u.b,{flexGrow:"0",paddingRight:"8px"},l.createElement(ce.b,{source:{name:"post_actions_footer",susiEntry:"bookmark_footer"}},l.createElement(me.a,{post:t})))),I&&l.createElement(u.K,null,function(o){var s=o.isVisible,d=o.toggle,p=o.hide;return l.createElement(u.K,null,function(o){var b=o.isVisible,h=o.show,E=o.hide;return l.createElement(u.K,null,function(o){var w=o.isVisible,j=o.show,_=o.hide;return l.createElement(u.K,null,function(o){var S=o.isVisible,P=o.show,k=o.hide;return l.createElement(ye.a,{targetUserId:I.id,viewerId:n,onCompleted:E},function(o){var A=o.mutate;return l.createElement(_e.a,{targetUserId:I.id,viewerId:n},function(o){var L=o.mutate;return l.createElement(Ce,{targetAuthorId:I.id,targetPostId:t.id,isBlocking:I.isBlocking},function(o){var M=o.mutate;return l.createElement(Te,{targetPostId:y},function(o){var D=o.mutate;return l.createElement(Be,{targetPostId:y},function(o){var N=o.mutate;return l.createElement(l.Fragment,null,l.createElement(u.y,{isVisible:s,hide:p,popoverRenderFn:function(){return l.createElement(O.a,null,l.createElement(l.Fragment,null,l.createElement(G,{post:t,show:function(){g(!0),p()}}),l.createElement(ae,{viewer:e,post:t,show:function(){x(!0),p()}}),l.createElement(Z,{viewer:e,post:t,show:function(){m(!0),p()}})),n===I.id||B?l.createElement(l.Fragment,null,l.createElement(O.b,null,l.createElement(u.v,{onClick:function(){C?P():D(),p()}},C?"Hide responses":"Show responses")),l.createElement(O.c,null)):null,n&&T&&R&&R>0?l.createElement(O.b,null,l.createElement(u.v,{onClick:function(){r(-R),a({postId:y,clapCount:T-R,viewerClapCount:0,viewerHasClappedSinceFetch:!0}),p()}},"Undo applause for this post")):null,l.createElement(O.b,null,n?l.createElement(u.v,{onClick:function(){j(),p()}},"Report story"):l.createElement(ue.a,{operation:"register",post:t,susiEntry:"report_footer"},"Report story")),n?l.createElement(O.b,null,l.createElement(u.v,{onClick:function(){I.isBlocking?L():h(),p()}},I.isBlocking?"Unblock author":"Block author")):null)}},l.createElement(Y,{post:t,isVisible:f,hide:function(){g(!1)},showLoadingIndicator:i},l.createElement(le,{viewer:e,post:t,isVisible:v,hide:function(){x(!1)}},l.createElement(te,{viewer:e,post:t,isVisible:c,hide:function(){m(!1)},showLoadingIndicator:i},l.createElement(u.b,{flexGrow:"0"},l.createElement(u.v,{onClick:d},l.createElement(Fe,null))))))),l.createElement(Re,{onConfirm:N,isVisible:S,hide:k}),l.createElement(Ie.a,{onConfirm:A,isVisible:b,hide:E}),l.createElement(Pe,{onSubmit:M,isVisible:w,hide:_}))})})})})})})})})})))}))})}),He=Object(v.f)(xe.c,{props:xe.d})(Ve),We=function(e){return l.createElement(P.a,null,function(t){return l.createElement(He,b()({},e,{viewerId:t&&t.id}))})},$e=i()(Ne(),me.b,xe.b,ue.c,ve,S,W,se.b),ze=n("./src/components/collection/CollectionFollowButton.jsx"),Ge=n("./src/components/user/UserFollowButton.jsx"),qe=n("./src/components/user/UserUnblockButton.jsx"),Ke=n("./src/components/user/UserAvatar.jsx"),Ye=n("./src/util/routes.js");function Xe(){var e=o()(["\n  fragment PostFooterByline_post on Post {\n    id\n    creator {\n      name\n      username\n      bio\n      id\n      isBlocking\n      ...UserAvatar_user\n      ...UserFollowButton_user\n    }\n    collection {\n      name\n      description\n      ...CollectionAvatar_collection\n      ...CollectionFollowButton_collection\n      ...collectionUrl_collection\n    }\n    ...UserFollowButton_post\n    ...CollectionFollowButton_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return Xe=function(){return e},e}var Qe=Ke.c.XL,Je=Ke.c.XL+22,Ze=function(e){var t=e.creator,n=e.post,r=t.name,o=t.username,a=t.bio,i=void 0===a?"":a,s=t.id,c=t.isBlocking;return r&&o?l.createElement(P.a,null,function(e){return l.createElement(u.b,{marginBottom:"32px",position:"relative",minHeight:"".concat(Qe,"px")},l.createElement(u.b,{tag:"span",sm:{display:"flex",alignItems:"center",marginBottom:"24px"}},l.createElement(u.b,{position:"absolute",sm:{position:"relative",width:"".concat(Je,"px")}},l.createElement(Ke.d,{user:t,scale:"XL",link:!0})),l.createElement(u.b,{tag:"span"},l.createElement(u.b,{paddingLeft:"".concat(Je,"px"),sm:{paddingLeft:"0"}},l.createElement(m.d,null,"Written by")),l.createElement(u.b,{paddingLeft:"".concat(Je,"px"),display:"flex",marginBottom:"6px",sm:{paddingLeft:"0"}},l.createElement(u.b,{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},l.createElement(m.b,{scale:"M"},l.createElement(u.v,{href:Object(Ye.Hb)(o)},r||o)),l.createElement(u.b,{sm:{display:"none"}},e&&c?l.createElement(qe.a,{targetUserId:s}):l.createElement(Ge.c,{buttonSize:"SMALL",post:n,user:t})))))),l.createElement(u.b,{maxWidth:"555px",paddingLeft:"".concat(Je,"px"),sm:{display:"block",paddingLeft:"0"}},l.createElement(u.b,{maxWidth:"450px"},l.createElement(m.a,{scale:"L"},i)),l.createElement(u.b,{display:"none",sm:{display:"block",marginTop:"24px"}},l.createElement(Ge.c,{buttonSize:"SMALL",post:n,user:t}))))}):null},et=function(e){var t=e.collection,n=e.currentLocation,r=e.post,o=t.name,a=t.description,i=void 0===a?"":a;return l.createElement(u.b,{marginBottom:"32px",position:"relative",minHeight:"".concat(Qe,"px")},l.createElement(u.b,{tag:"span",sm:{display:"flex",alignItems:"center",marginBottom:"24px"}},l.createElement(u.b,{position:"absolute",sm:{position:"relative",width:"".concat(Je,"px")}},l.createElement(x.a,{collection:t,size:Qe,link:!0})),l.createElement(u.b,{tag:"span"},l.createElement(u.b,{paddingLeft:"".concat(Je,"px"),display:"flex",marginBottom:"6px",sm:{paddingLeft:"0"}},l.createElement(u.b,{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},l.createElement(m.b,{scale:"M"},l.createElement(u.v,{href:Object(Ye.x)(t,n)},o)),l.createElement(u.b,{sm:{display:"none"}},l.createElement(ze.a,{collection:t,post:r})))))),l.createElement(u.b,{maxWidth:"550px",paddingLeft:"".concat(Je,"px"),sm:{display:"block",paddingLeft:"0"}},l.createElement(u.b,{maxWidth:"450px"},l.createElement(m.a,{scale:"L"},i)),l.createElement(u.b,{display:"none",sm:{display:"block",marginTop:"24px"}},l.createElement(ze.a,{collection:t,post:r}))))};var tt=i()(Xe(),x.b,ze.b,ze.c,Ye.y,Ke.b,Ge.a,Ge.b),nt=Object(c.b)(function(e){return{currentLocation:e.navigation.currentLocation}})(function(e){var t=e.currentLocation,n=e.post,r=n.creator,o=n.collection;return r?l.createElement(u.b,{marginTop:"25px",marginBottom:"25px",paddingTop:"32px",borderTop:"BASE_LIGHTER",print:{display:"none"}},l.createElement(Ze,{creator:r,post:n}),o&&l.createElement(l.Fragment,null,l.createElement(u.b,{paddingTop:"32px"}),l.createElement(et,{collection:o,currentLocation:t,post:n}))):null});function rt(){return(rt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ot=s.a.createElement("path",{d:"M10.48 2c2.4 0 4.4.82 6.04 2.46A8.2 8.2 0 0 1 19 10.5c0 2.39-.81 4.38-2.43 5.96A8.4 8.4 0 0 1 10.49 19c-2.3 0-4.3-.83-5.98-2.5C2.84 14.82 2 12.83 2 10.5s.83-4.34 2.5-6.04A8.14 8.14 0 0 1 10.48 2zm.03 1.53c-1.93 0-3.56.68-4.9 2.04a6.84 6.84 0 0 0-.01 9.82 6.71 6.71 0 0 0 4.92 2.06c1.89 0 3.54-.69 4.94-2.07a6.47 6.47 0 0 0 2-4.87c0-1.93-.67-3.57-2.03-4.93a6.72 6.72 0 0 0-4.91-2.03zM12.8 8.4v3.48h-.97v4.12H9.18v-4.12h-.97V8.39A.53.53 0 0 1 8.37 8a.53.53 0 0 1 .39-.16h3.49c.14 0 .27.06.38.16a.52.52 0 0 1 .16.39zM9.32 6.2c0-.8.39-1.2 1.18-1.2.79 0 1.18.4 1.18 1.2 0 .8-.4 1.19-1.18 1.19-.79 0-1.18-.4-1.18-1.18z",fillRule:"evenodd"}),at=function(e){return s.a.createElement("svg",rt({width:21,height:21},e),ot)};function it(){return(it=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var lt=s.a.createElement("path",{d:"M10.48 2c2.4 0 4.4.82 6.04 2.46C18.18 6.1 19 8.11 19 10.5s-.81 4.38-2.43 5.96A8.4 8.4 0 0 1 10.49 19c-2.31 0-4.3-.84-5.98-2.52A8.16 8.16 0 0 1 2 10.5c0-2.33.83-4.34 2.5-6.04A8.14 8.14 0 0 1 10.48 2zM3.91 8.2a6.68 6.68 0 0 0-.38 2.3c0 1.88.7 3.51 2.07 4.89a6.77 6.77 0 0 0 4.92 2.05c1.9 0 3.56-.7 4.94-2.08a6.2 6.2 0 0 0 1.17-1.5l-3.2-1.42c-.1.54-.38.98-.8 1.32a2.8 2.8 0 0 1-1.53.58v1.3h-.98v-1.3a3.95 3.95 0 0 1-2.58-1.02l1.16-1.18c.56.51 1.19.77 1.9.77.3 0 .54-.07.75-.2.2-.13.31-.35.31-.65a.66.66 0 0 0-.23-.52l-.82-.35-1-.45-1.35-.6L3.92 8.2zm6.6-4.68a6.6 6.6 0 0 0-4.9 2.05 8 8 0 0 0-.94 1.14l3.25 1.45c.14-.44.41-.8.8-1.07a2.68 2.68 0 0 1 1.39-.44V5.33h.98v1.3c.78.04 1.49.3 2.13.8L12.1 8.56c-.48-.33-.96-.5-1.46-.5-.26 0-.5.05-.7.15-.21.1-.31.28-.31.52 0 .07.02.14.07.2l1.08.49.75.33 1.37.6 4.36 1.94c.14-.6.22-1.21.22-1.83 0-1.95-.67-3.6-2.03-4.93a6.64 6.64 0 0 0-4.92-2.05z",fillRule:"evenodd"}),st=function(e){return s.a.createElement("svg",it({width:21,height:21},e),lt)};function ct(){return(ct=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ut=s.a.createElement("path",{d:"M10.48 2c2.38 0 4.4.82 6.04 2.47A8.17 8.17 0 0 1 19 10.5a8.1 8.1 0 0 1-2.43 5.98A8.39 8.39 0 0 1 10.49 19c-2.3 0-4.3-.83-5.99-2.5a8.18 8.18 0 0 1-2.5-6 8.3 8.3 0 0 1 2.5-6.03A8.15 8.15 0 0 1 10.48 2zm.03 1.53a6.6 6.6 0 0 0-4.9 2.05 6.78 6.78 0 0 0-2.08 4.92c0 1.9.7 3.52 2.07 4.89a6.71 6.71 0 0 0 4.91 2.06c1.9 0 3.55-.69 4.95-2.07a6.5 6.5 0 0 0 2-4.87c0-1.94-.67-3.58-2.03-4.9a6.67 6.67 0 0 0-4.91-2.06zm3.2 4.97v1.45H7.55V8.5h6.18zm0 2.73v1.45H7.55v-1.45h6.18z",fillRule:"evenodd"}),mt=function(e){return s.a.createElement("svg",ct({width:21,height:21},e),ut)};function dt(){return(dt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var pt=s.a.createElement("path",{d:"M10.48 2c2.38 0 4.4.82 6.04 2.47A8.17 8.17 0 0 1 19 10.5a8.1 8.1 0 0 1-2.43 5.98A8.39 8.39 0 0 1 10.49 19c-2.3 0-4.3-.83-5.99-2.5a8.18 8.18 0 0 1-2.5-6c0-2.32.83-4.33 2.5-6.03A8.15 8.15 0 0 1 10.48 2zm.03 1.53a6.6 6.6 0 0 0-4.9 2.05 6.79 6.79 0 0 0-2.08 4.92c0 1.9.7 3.52 2.07 4.89a6.71 6.71 0 0 0 4.92 2.06c1.89 0 3.54-.7 4.94-2.08a6.5 6.5 0 0 0 2-4.87c0-1.94-.67-3.58-2.03-4.92a6.64 6.64 0 0 0-4.91-2.05zM6.72 9.3a3.8 3.8 0 0 1 1.26-2.42 3.7 3.7 0 0 1 2.47-.86c1.34 0 2.4.43 3.2 1.3a4.7 4.7 0 0 1 1.18 3.3c0 1.3-.41 2.4-1.23 3.26a4.2 4.2 0 0 1-3.2 1.3 3.8 3.8 0 0 1-2.48-.87 3.7 3.7 0 0 1-1.26-2.46H8.8c.05 1.03.67 1.55 1.87 1.55.6 0 1.08-.26 1.44-.78.36-.52.54-1.21.54-2.07 0-.9-.17-1.6-.5-2.06a1.68 1.68 0 0 0-1.45-.71c-1.14 0-1.77.5-1.92 1.5h.62l-1.68 1.68-1.68-1.68h.66z",fillRule:"evenodd"}),ft=function(e){return s.a.createElement("svg",dt({width:21,height:21},e),pt)};function gt(){return(gt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var bt=s.a.createElement("g",{fillRule:"evenodd"},s.a.createElement("path",{d:"M10.5 5.68c-2.76 0-3.46 2.61-3.46 4.82 0 2.21.7 4.82 3.46 4.82s3.46-2.6 3.46-4.82c0-2.21-.7-4.82-3.46-4.82zm0 1.82c.11 0 .21 0 .31.04.2.17.3.4.1.73l-1.83 3.38A9.1 9.1 0 0 1 9 10.49c0-.98.07-3 1.5-3zm1.38 1.55c.1.52.1 1.06.1 1.44 0 .97-.06 3-1.48 3-.11 0-.22-.01-.31-.04l-.06-.02-.1-.03c-.31-.14-.51-.38-.22-.81l2.06-3.55z"}),s.a.createElement("path",{d:"M10.48 2c-2.36 0-4.34.82-5.96 2.47a8.6 8.6 0 0 0-1.88 2.8A8.35 8.35 0 0 0 2 10.5c0 1.13.21 2.21.64 3.23a8.58 8.58 0 0 0 1.85 2.76 8.84 8.84 0 0 0 2.76 1.87 8.4 8.4 0 0 0 3.23.64c1.13 0 2.22-.22 3.27-.66a8.7 8.7 0 0 0 2.82-1.88 7.72 7.72 0 0 0 1.81-2.68A8.62 8.62 0 0 0 19 10.5a8.6 8.6 0 0 0-.62-3.27 8.12 8.12 0 0 0-1.82-2.74A8.3 8.3 0 0 0 10.48 2zm.04 1.53a6.7 6.7 0 0 1 4.93 2.05 6.81 6.81 0 0 1 1.5 2.25 6.97 6.97 0 0 1 .52 2.67c0 1.95-.67 3.57-2 4.87a7.33 7.33 0 0 1-2.31 1.54 6.92 6.92 0 0 1-5.29 0 7.17 7.17 0 0 1-2.26-1.51 7.33 7.33 0 0 1-1.55-2.27 6.8 6.8 0 0 1 0-5.3 7.3 7.3 0 0 1 1.55-2.28 6.6 6.6 0 0 1 4.9-2.03z"})),ht=function(e){return s.a.createElement("svg",gt({width:21,height:21},e),bt)},Et="title",vt=function(e){return{fill:e.baseColor.fill.lighter}};function xt(e,t){return{PUBLIC_DOMAIN:{title:"Public Domain",link:"https://creativecommons.org/publicdomain/mark/1.0/"},CC_40_ZERO:{title:"Creative Commons copyright waiver",link:"http://creativecommons.org/publicdomain/zero/1.0/"},CC_40_BY:{title:"Creative Commons Attribution 4.0 International",link:"http://creativecommons.org/licenses/by/4.0/"},CC_40_BY_ND:{title:"Creative Commons Attribution-NoDerivatives 4.0 International",link:"https://creativecommons.org/licenses/by-nd/4.0/"},CC_40_BY_SA:{title:"Creative Commons Attribution-ShareAlike 4.0 International",link:"https://creativecommons.org/licenses/by-sa/4.0/"},CC_40_BY_NC:{title:"Creative Commons Attribution-NonCommercial 4.0 International",link:"https://creativecommons.org/licenses/by-nc/4.0/"},CC_40_BY_NC_ND:{title:"Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International",link:"https://creativecommons.org/licenses/by-nc-nd/4.0/"},CC_40_BY_NC_SA:{title:"Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International",link:"https://creativecommons.org/licenses/by-nc-sa/4.0/"}}[e][t]}var yt=function(e){var t=e.license,n=Object(d.e)();return t?l.createElement(u.b,null,l.createElement(u.b,{display:"inline-block"},l.createElement(m.a,{scale:"S"},l.createElement(u.J,{darkTheme:!0,placement:"top",popoverRenderFn:function(){return l.createElement(u.b,{width:"300px",padding:"8px"},function(e){switch(e){case"PUBLIC_DOMAIN":return"Except where otherwise noted, this work is in the public domain.";case"CC_40_ZERO":return"Except where otherwise noted, this work has been dedicated to the public domain using CC0.";default:return"Except where otherwise noted, this work is licensed under a ".concat(xt(e,Et)," license by the author.")}}(t))}},l.createElement(u.v,{disableSourceParam:!0,href:xt(t,"link"),linkStyle:"SUBTLE",inline:!0,target:"_blank"},function(e){switch(e){case"PUBLIC_DOMAIN":return"Public domain.";case"CC_40_ZERO":return"No rights reserved";default:return"Some rights reserved"}}(t))))),l.createElement(u.b,{display:"inline-block"},l.createElement(m.a,{scale:"S"},"CC_40_ZERO"===t&&l.createElement("span",null," by the author."),l.createElement("span",{className:n(vt),style:{marginLeft:"5px",verticalAlign:"text-bottom"}},function(e){return{CC_40_ZERO:l.createElement(ht,null),CC_40_BY:l.createElement(at,null),CC_40_BY_ND:l.createElement(l.Fragment,null,l.createElement(at,null),l.createElement(mt,null)),CC_40_BY_SA:l.createElement(l.Fragment,null,l.createElement(at,null),l.createElement(ft,null)),CC_40_BY_NC:l.createElement(l.Fragment,null,l.createElement(at,null),l.createElement(st,null)),CC_40_BY_NC_ND:l.createElement(l.Fragment,null,l.createElement(at,null),l.createElement(st,null),l.createElement(mt,null)),CC_40_BY_NC_SA:l.createElement(l.Fragment,null,l.createElement(at,null),l.createElement(st,null),l.createElement(ft,null)),PUBLIC_DOMAIN:l.createElement(l.Fragment,null)}[e]}(t))))):null},wt=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),jt=n.n(wt);function Ct(){var e=o()(["\n  fragment ThanksTo_post on Post {\n    id\n    creator {\n      id\n    }\n    collaborators {\n      id\n      user {\n        id\n        name\n      }\n      state\n    }\n  }\n"]);return Ct=function(){return e},e}function _t(){var e=o()(["\n  mutation setCollaboratorState($postId: ID!, $collaboratorId: ID!, $isVisible: Boolean!) {\n    setCollaboratorState(postId: $postId, collaboratorId: $collaboratorId, isVisible: $isVisible)\n  }\n"]);return _t=function(){return e},e}var It=i()(_t()),St=i()(Ct()),Pt=function(e){var t=e.viewer,n=e.post,r=e.collaborator,o=r.user,a=n.creator;return o&&t&&a&&(t.id===a.id||t.id===o.id)?l.createElement(v.b,{mutation:It,optimisticResponse:{__typename:"Mutation",setCollaboratorState:!0},update:function(e,t){var o=e.readFragment({id:"Post:".concat(n.id),fragment:St});e.writeFragment({id:"Post:".concat(n.id),fragment:St,data:jt()({},o,{collaborators:o.collaborators.map(function(e){return e.id===r.id?jt()({},e,{state:"visible"===e.state?"hidden":"visible"}):e})})})}},function(e){return"hidden-collab"===r.state&&a.id===t.id?"(declined)":l.createElement(l.Fragment,null,"(",l.createElement(u.v,{onClick:function(t){e({variables:{postId:n.id,collaboratorId:o.id,isVisible:"visible"!==r.state}})}},"visible"===r.state?"hide":"show"),")")}):null},Ot=function(e){var t=e.index,n=e.total;return t===n-1?"":n>=3?t===n-2?", and ":", ":" and "},kt=function(e){var t=e.post,n=t.collaborators,r=t.creator;return r&&n&&n.length?l.createElement(P.a,null,function(e){return l.createElement(u.b,null,l.createElement(m.a,{scale:"S"},"Thanks to ",n.map(function(o,a){var i=o.user;return i?l.createElement(l.Fragment,{key:o.id},i.name,function(e,t,n){return e&&(e.id===t.id||n&&e.id===n.id)}(e,r,i)&&l.createElement(l.Fragment,null," ",l.createElement(Pt,{viewer:e,post:t,collaborator:o})),l.createElement(Ot,{index:a,total:n.length})):null}),". "))}):null};function Bt(){var e=o()(["\n  fragment TranslatedBy_post on Post {\n    creator {\n      name\n      username\n    }\n    translationSourcePost {\n      id\n      title\n      mediumUrl\n    }\n  }\n"]);return Bt=function(){return e},e}var Tt=i()(Bt()),Rt=function(e){var t=e.post,n=t.creator;if(!t.translationSourcePost||!n)return null;var r=l.createElement(u.v,{linkStyle:"SUBTLE",inline:!0,href:Object(Ye.W)(t.translationSourcePost)},"original"),o=l.createElement(u.v,{linkStyle:"SUBTLE",inline:!0,href:Object(Ye.Hb)(n.username||"")},n.name);return l.createElement(u.b,null,l.createElement(m.a,{scale:"S"},"Translated from ",r," by ",o,"."))};function At(){var e=o()(["\n  fragment PostFooterResponsesButton_post on Post {\n    id\n    responsesCount\n  }\n"]);return At=function(){return e},e}var Lt=i()(At()),Mt=Object(c.b)(function(e){return{authDomain:e.config.authDomain}})(function(e){var t=e.authDomain,n=e.post,r=Object(d.e)(),o=n.id,a=n.responsesCount,i=a&&a>0;return l.createElement(u.v,{href:Object(Ye.ib)(t,o)},l.createElement(u.b,{sm:{display:i?"block":"none"},border:"ACCENT_NORMAL",borderRadius:"3px",padding:"20px",textAlign:"center"},l.createElement("span",{className:r(function(e){return{color:e.accentColor.text.normal}})},i?"See responses (".concat(a||0,")"):"Write the first response")))}),Dt=n("./src/components/post-listing/PostListingItemRecirc.jsx"),Nt=n("./src/framework/source/index.js"),Ut=n("./src/framework/design-system/type/Heading.js");function Ft(){var e=o()(["\n  query PostRecircQuery($postId: ID!, $pagingOptions: PagingOptions) {\n    post(id: $postId) {\n      ... on Post {\n        id\n      }\n      recirc(paging: $pagingOptions) {\n        items {\n          __typename\n          ... on Post {\n            ...PostListingItemRecirc_post\n          }\n          ... on SuggestedPost {\n            post {\n              __typename\n              ...PostListingItemRecirc_post\n            }\n            postSuggestionReasons {\n              reason\n              users {\n                name\n              }\n              topics {\n                name\n              }\n              collections {\n                name\n              }\n              tags {\n                name\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return Ft=function(){return e},e}var Vt=i()(Ft(),Dt.a);function Ht(e){var t=e.posts,n=e.sourceName;return l.createElement(u.b,{margin:"32px 0",md:{marginBottom:"0px"}},l.createElement(u.b,{marginBottom:"32px",borderBottom:"BASE_LIGHTER",paddingBottom:"8px"},l.createElement(Ut.a,{scale:"S"},"More From Medium")),l.createElement(u.k,{alignItems:"flex-start"},t.map(function(e,t){return l.createElement(u.l,{key:"recirc-".concat(t),size:{xs:12,sm:12,md:12,lg:4,xl:4}},l.createElement(Nt.b,{source:{name:n,index:t}},l.createElement(Dt.b,{post:e})))})))}function Wt(e){var t=e.postId;return l.createElement(v.c,{ssr:!1,query:Vt,variables:{postId:t,pagingOptions:{limit:3}}},function(e){var t=e.loading,n=e.error,r=e.data,o=(r=void 0===r?{}:r).post;return!t&&!n&&o&&o.recirc&&o.recirc.items?l.createElement(Ht,{posts:o.recirc.items,sourceName:"post_recirc"}):null})}var $t=n("./src/components/sequence/SequenceCoverImage.jsx");function zt(){var e=o()(["\n  fragment SequencePreview_sequence on Sequence {\n    sequenceId\n    ...SequenceCoverImage_sequence\n    description\n    eyebrow\n    slug\n    tabletImage {\n      id\n    }\n    title\n    hideIndex\n  }\n  ","\n"]);return zt=function(){return e},e}var Gt=function(e){return{textTransform:"uppercase"}};function qt(e){var t=e.sequence,n=Object(d.e)();return l.createElement(u.b,{display:"flex",flexDirection:"column",marginBottom:"56px"},l.createElement(u.b,{display:"flex",marginTop:"48px",xs:{marginTop:"32px",display:"flex"}},l.createElement(u.b,{flexShrink:"0",borderRadius:"4px",overflow:"hidden",md:{display:"none"}},l.createElement($t.b,{sequence:t,width:200,height:265})),l.createElement(u.b,{flexShrink:"0",borderRadius:"4px",overflow:"hidden",display:"none",md:{display:"block"},xs:{display:"none !important"}},l.createElement($t.b,{sequence:t,width:180,height:238})),l.createElement(u.b,{flexShrink:"0",borderRadius:"4px",overflow:"hidden",display:"none",xs:{display:"block"}},l.createElement($t.b,{sequence:t,width:98,height:130})),l.createElement(u.b,{display:"flex",flexDirection:"column",marginLeft:"32px",justifyContent:"center",xs:{marginLeft:"20px",display:"flex"}},l.createElement("div",{className:n(Gt)},l.createElement(m.d,null,"About this ",t.eyebrow||"Collection")),t.title&&t.slug&&l.createElement(u.f,{href:Object(Ye.db)(t.slug)},l.createElement(u.b,null,l.createElement(m.g,{scale:"M"},t.title))),t.description&&l.createElement(u.b,{marginTop:"14px",xs:{display:"none"},maxWidth:"680px"},l.createElement(m.a,{scale:"L"},t.description)))),t.description&&l.createElement(u.b,{display:"none",marginTop:"29px",xs:{display:"block"}},l.createElement(m.a,{scale:"M"},t.description)))}var Kt=i()(zt(),$t.a);function Yt(){var e=o()(["\n  query SequencePostRecircQuery($postId: ID!, $pagingOptions: PagingOptions) {\n    post(id: $postId) {\n      id\n      elevateRecirc(paging: $pagingOptions) {\n        items {\n          __typename\n          ... on Post {\n            ...PostListingItemRecirc_post\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return Yt=function(){return e},e}var Xt=i()(Yt(),Dt.a);function Qt(e){var t=e.postId;return l.createElement(v.c,{ssr:!1,query:Xt,variables:{postId:t,pagingOptions:{limit:3}}},function(e){var t=e.loading,n=e.error,r=e.data,o=(r=void 0===r?{}:r).post;return!t&&!n&&o&&o.elevateRecirc&&o.elevateRecirc.items?l.createElement(Ht,{posts:o.elevateRecirc.items,sourceName:"elevate_recirc",query:Xt}):null})}var Jt=n("./src/store/actions/multiVote.js"),Zt=n("./src/styles/font.js");function en(){var e=o()(["\n  fragment TagList_tags on Tag {\n    id\n    displayTitle\n  }\n"]);return en=function(){return e},e}var tn={padding:0,margin:0},nn={display:"inline-block",listStyleType:"none",marginRight:"8px",marginBottom:"8px"},rn=function(e){return{borderRadius:"3px",padding:"5px 10px",textDecoration:"none",color:e.baseColor.text.lighter,display:"block",background:e.baseColor.background.normal,lineHeight:"22px"}};function on(e){var t=e.tags,n=Object(d.e)();return t?l.createElement("ul",{className:n(tn)},t.map(function(e){return e.id?l.createElement("li",{key:e.id,className:n(nn)},l.createElement("a",{href:Object(Ye.rb)(e.id),className:n([rn,Object(Zt.t)({fontSize:15})])},e.displayTitle)):null})):null}var an=i()(en()),ln=n("./src/svg/unlisted-19px.svg"),sn=n("./src/WatchBounds.js");function cn(){var e=o()(["\n  fragment PostFooter_post on Post {\n    id\n    visibility\n    license\n    isPublished\n    allowResponses\n    collection {\n      name\n      description\n    }\n    sequence {\n      sequenceId\n      ...SequencePreview_sequence\n    }\n    tags {\n      ...TagList_tags\n    }\n    viewerClapCount\n    ...PostFooterActionsBar_post\n    ...PostFooterByline_post\n    ...PostFooterResponsesButton_post\n    ...ThanksTo_post\n    ...TranslatedBy_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return cn=function(){return e},e}n.d(t,"a",function(){return pn});var un=function(e){return{color:e.baseColor.text.normal}},mn=function(e){return{marginTop:"40px",clear:"both",marginBottom:e?void 0:"40px"}},dn={setClapCountsForPost:Jt.d},pn=(t.b=Object(c.b)(function(e){return{clapsPerPost:e.multiVote.clapsPerPost,isAmp:e.config.isAmp}},dn)(function(e){var t=e.post,n=e.isAmp,r=e.clapsPerPost,o=e.setClapCountsForPost,a=t.id,i=t.tags,s=t.sequence,c=t.visibility,g=t.isPublished,b=t.allowResponses,h=l.useRef(null),E=Object(d.e)(),v=l.useContext(sn.b);return l.useEffect(function(){v.updateWatchedBounds("footer",h,{type:"footer"})},[]),l.createElement("div",{ref:h},l.createElement(ce.b,{source:{susiEntry:"follow_footer",name:"follow_footer"}},l.createElement("div",{className:E([mn(g),Object(p.a)({flexDirection:"column",justifyContent:"center"})])},l.createElement(u.x,{size:"inset"},!g&&l.createElement(u.b,{height:"20px",borderTop:"BASE_LIGHTER"}),l.createElement(u.b,{display:"flex",flexWrap:"wrap"},g&&l.createElement(kt,{post:t}),g&&l.createElement(Rt,{post:t})),l.createElement(u.b,{display:"flex",flexWrap:"wrap",alignItems:"center"},"UNLISTED"===c&&l.createElement(u.b,null,l.createElement(m.a,{scale:"S"},l.createElement(ln.a,null)," ",l.createElement("span",{className:E(un)},"Unlisted"),"ALL_RIGHTS_RESERVED"!==t.license&&l.createElement("span",{style:{marginLeft:"5px",marginRight:"5px"}},"|"))),t.license&&"ALL_RIGHTS_RESERVED"!==t.license&&l.createElement(yt,{license:t.license})),i&&l.createElement(u.b,{marginTop:"25px"},l.createElement(on,{tags:i})),!n&&l.createElement(We,{post:t,clapsForPost:Object(f.a)(t,r),setClapCountsForPost:o}),g&&l.createElement(l.Fragment,null,l.createElement(nt,{post:t}),b&&l.createElement(u.b,{borderTop:"BASE_LIGHTER",paddingTop:"25px",print:{display:"none"}},l.createElement(Mt,{post:t})))),g&&l.createElement(u.b,{backgroundColor:"BASE_LIGHT",marginTop:"64px",print:{display:"none"}},l.createElement(u.x,null,s&&!s.hideIndex&&l.createElement(qt,{sequence:s}),s?l.createElement(Qt,{postId:a}):l.createElement(Wt,{postId:a}))))))}),i()(cn(),$e,tt,Lt,Kt,an,St,Tt))},"./src/components/read-next/ReadNext.jsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),a=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),i=n.n(a),l=n("./node_modules/react/index.js"),s=n("./node_modules/graphql-tag/src/index.js"),c=n.n(s),u=n("./node_modules/react-apollo/react-apollo.esm.js"),m=n("./node_modules/react-redux/es/index.js"),d=n("./src/framework/design-system/components/index.js"),p=n("./src/framework/design-system/type/Detail.js"),f=n("./src/components/ui/image/index.js"),g=n("./src/framework/design-system/type/Overline.js"),b=n("./src/util/routes.js"),h=n("./src/framework/reporter/index.js"),E=n("./src/framework/source/index.js");function v(){var e=o()(["\n  fragment ReadNextPostCard_post on Post {\n    id\n    title\n    primaryTopic {\n      name\n      slug\n    }\n    collection {\n      id\n      name\n    }\n    previewImage {\n      id\n      alt\n      focusPercentX\n      focusPercentY\n    }\n  }\n"]);return v=function(){return e},e}var x=c()(v()),y=Object(m.b)(function(e){return{mediumOwnedAndOperatedCollectionIds:e.config.mediumOwnedAndOperatedCollectionIds}})(function(e){var t=e.context,n=e.index,r=e.mediumOwnedAndOperatedCollectionIds,o=e.post,a=e.reason,i=e.vertical,s=void 0!==i&&i,c=o&&o.previewImage||{},u=c.focusPercentX,m=c.focusPercentY,v=c.id,x=c.alt,y=o.collection||{},w=y.name,j=y.id,C=o.primaryTopic&&o.primaryTopic.name,_=(r.includes(j)?w:C)||"",I=o&&o.title||"",S=Object(b.W)({id:o.id}),P=Object(h.c)(),O=s?50:70,k=l.createElement(d.b,{marginBottom:s?"4px":"0"},l.createElement(g.a,null,l.createElement(p.a,{scale:"S",color:"DARKER"},_)));return l.useEffect(function(){P.event("post.clientPresented",{context:t,index:n,location:"post/".concat(o.id),reason:a})}),l.createElement(E.b,{source:{name:"read_next",context:t,index:n,reason:a},extendSource:!0},l.createElement(d.f,{href:S},l.createElement(d.b,{display:"flex",flexDirection:"column",justifyContent:"center"},s&&k,l.createElement(d.b,{display:"flex",flexDirection:"row"},l.createElement(f.b,{miroId:v,alt:x||"",height:O,width:O,freezeGifs:!0,strategy:"CROP",rules:{marginRight:s?"9px":"16px",marginTop:s?"4px":"0"},focusPercentX:u||50,focusPercentY:m||50}),l.createElement(d.b,{display:"flex",flexDirection:"column"},!s&&k,l.createElement(d.b,{width:s?"130px":"150px"},l.createElement(p.a,{scale:"S",color:"DARKER",clamp:3},I)))))))}),w=n("./src/components/session/WithFlag.jsx"),j=n("./src/components/session/WithViewer.jsx"),C=n("./src/framework/design-system/type/index.js"),_=n("./src/framework/design-system/components/buttons/CloseButton.jsx"),I=n("./src/framework/design-system/util/style/responsiveStyles.js"),S=n("./src/screens/helpers/visits.js"),P=n("./src/util/constants.js"),O=n("./src/framework/style/index.js");function k(){var e=o()(["\n  query ReadNextQuery($postId: ID!) {\n    post(id: $postId) {\n      readNext {\n        ... on ReadNextItem {\n          reason\n          post {\n            ... on Post {\n              ...ReadNextPostCard_post\n            }\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return k=function(){return e},e}n.d(t,"a",function(){return R});var B=function(e){var t={display:"none"};return Object(I.a)(e,{":last-of-type":{xs:t,sm:t,md:t,lg:t,xl:{display:"block"}}})},T=function(e){var t=e.hide,n=e.isSideNav,r=e.isVisible,o=e.readNextItems,a=void 0===o?[]:o,s=Object(h.c)(),c=l.useState(!1),u=i()(c,2),m=u[0],p=u[1],f=n?"column":"row",g=n?"Your journey starts here.":"Dive in. We'll learn what you like along the way.",b=Object(O.e)(),E=Object(O.g)();l.useEffect(function(){r&&p(!0)},[r,a]),l.useEffect(function(){m&&s.event("readNext.viewed",{position:n?"sidebar":"header"})},[m]);var v=l.useState(!1),x=i()(v,2),w=x[0],j=x[1];return w?null:l.createElement(function(e){var t=e.children;return e.isSideNav?l.createElement(l.Fragment,null,t):l.createElement(d.x,{size:"full"},l.createElement(d.b,{marginBottom:"25px",display:"flex",flexDirection:"row",justifyContent:"center",borderBottom:"BASE_LIGHTER"},t))},{isSideNav:n||!1},l.createElement(d.b,{md:{display:"none"},lg:{width:"100%",margin:"0 24px"},position:"relative",backgroundColor:"BACKGROUND",paddingBottom:"24px",paddingTop:"24px",width:n?"100%":"".concat(E.maxWidths.outset,"px")},l.createElement(d.b,{position:"absolute",right:"0",top:"15px"},l.createElement(_.a,{onClick:function(){Object(S.a)(),t(!0),j(!0)},size:n?"SMALL":"REGULAR",isPositionAbsolute:!1})),l.createElement(d.b,{paddingBottom:"32px"},l.createElement(C.c,{scale:"XS"},g)),l.createElement(d.b,{display:"flex",flexDirection:f,justifyContent:"space-between"},a.slice(0,4).map(function(e,t){var r=e.post,o=e.reason;return l.createElement("div",{className:b(B)},l.createElement(y,{key:t,context:n?"READ_NEXT_SIDEBAR":"READ_NEXT_HEADER",index:t,reason:o,post:r,vertical:n}))}))))},R=function(e){var t=e.isSideNav,n=e.isVisible,r=void 0===n||n,o=e.postId,a=l.useState(!1),s=i()(a,2),c=s[0],m=s[1];return Object(S.e)()||c?null:l.createElement(j.a,null,function(e){return e&&function(e){return e&&e.createdAt+P.a>Date.now()}(e)?l.createElement(w.a,{name:"enable_lite_read_next"},function(e){return e?l.createElement(u.c,{query:A,variables:{postId:o}},function(n){var o=n.loading,a=n.error,i=n.data.post;return!o&&!a&&i&&i.readNext&&i.readNext.length?l.createElement(T,{isSideNav:"sidebar"===e&&t,isVisible:r,readNextItems:i.readNext,hide:m}):null}):null}):null})};var A=c()(k(),x)},"./src/components/sequence/SequenceCoverImage.jsx":function(e,t,n){"use strict";n.d(t,"b",function(){return u}),n.d(t,"a",function(){return m});var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),a=n("./node_modules/react/index.js"),i=n("./node_modules/graphql-tag/src/index.js"),l=n.n(i),s=n("./src/components/ui/image/index.js");function c(){var e=o()(["\n  fragment SequenceCoverImage_sequence on Sequence {\n    title\n    coverImage {\n      id\n    }\n  }\n"]);return c=function(){return e},e}function u(e){var t=e.sequence,n=e.width,r=e.height,o=t.title,i=t.coverImage;return i?a.createElement("div",null,a.createElement(s.b,{miroId:i.id,alt:o||"Collection on Medium",width:n,height:r,strategy:"RESAMPLE",freezeGifs:!1})):null}var m=l()(c())},"./src/components/social/ShareButton.jsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/extends.js"),o=n.n(r),a=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),i=n.n(a),l=n("./node_modules/graphql-tag/src/index.js"),s=n.n(l),c=n("./node_modules/react/index.js"),u=n.n(c),m=n("./node_modules/react-redux/es/index.js"),d=n("./src/framework/design-system/components/index.js"),p=n("./src/framework/design-system/type/index.js"),f=n("./src/framework/style/index.js"),g=n("./src/util/routes.js");function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var h=u.a.createElement("path",{d:"M18.26 10.55c0-4.3-3.47-7.79-7.75-7.79a7.77 7.77 0 0 0-7.75 7.79 7.77 7.77 0 0 0 6.54 7.68v-5.49H7.4v-2.2h1.9V8.92c0-1.88 1.14-2.9 2.8-2.9.8 0 1.49.06 1.69.08v1.97h-1.15c-.91 0-1.1.43-1.1 1.07v1.4h2.17l-.28 2.2h-1.88v5.52a7.77 7.77 0 0 0 6.7-7.71"}),E=function(e){return u.a.createElement("svg",b({width:21,height:21,viewBox:"0 0 21 21"},e),h)};function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var x=u.a.createElement("path",{d:"M23.2 5H5.8a.8.8 0 0 0-.8.8V23.2c0 .44.35.8.8.8h9.3v-7.13h-2.38V13.9h2.38v-2.38c0-2.45 1.55-3.66 3.74-3.66 1.05 0 1.95.08 2.2.11v2.57h-1.5c-1.2 0-1.48.57-1.48 1.4v1.96h2.97l-.6 2.97h-2.37l.05 7.12h5.1a.8.8 0 0 0 .79-.8V5.8a.8.8 0 0 0-.8-.79"}),y=function(e){return u.a.createElement("svg",v({width:29,height:29},e),x)},w=n("./src/svg/twitter-filled-21px.svg");function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var C=u.a.createElement("path",{d:"M22.05 7.54a4.47 4.47 0 0 0-3.3-1.46 4.53 4.53 0 0 0-4.53 4.53c0 .35.04.7.08 1.05A12.9 12.9 0 0 1 5 6.89a5.1 5.1 0 0 0-.65 2.26c.03 1.6.83 2.99 2.02 3.79a4.3 4.3 0 0 1-2.02-.57v.08a4.55 4.55 0 0 0 3.63 4.44c-.4.08-.8.13-1.21.16l-.81-.08a4.54 4.54 0 0 0 4.2 3.15 9.56 9.56 0 0 1-5.66 1.94l-1.05-.08c2 1.27 4.38 2.02 6.94 2.02 8.3 0 12.86-6.9 12.84-12.85.02-.24 0-.43 0-.65a8.68 8.68 0 0 0 2.26-2.34c-.82.38-1.7.62-2.6.72a4.37 4.37 0 0 0 1.95-2.51c-.84.53-1.81.9-2.83 1.13z"}),_=function(e){return u.a.createElement("svg",j({width:29,height:29},e),C)};function I(){var e=i()(["\n  fragment ShareButton_post on Post {\n    id\n  }\n"]);return I=function(){return e},e}n.d(t,"b",function(){return A}),n.d(t,"a",function(){return M});var S={fill:"#3b5998"},P={fill:"#38a1f3"},O=function(e){return{fill:e.baseColor.fill.lighter}},k=function(e){return{fill:e.baseColor.fill.normal}},B=function(e){return{opacity:.25,cursor:"not-allowed"}},T={marginRight:"8px"},R={FACEBOOK:"Facebook",TWITTER:"Twitter"},A=s()(I());function L(e){var t=e.buttonStyle,n=e.socialPlatform,r=Object(f.e)();switch(t){case"LINK_DISABLED":switch(n){case"FACEBOOK":return c.createElement(y,{className:r(B)});case"TWITTER":return c.createElement(_,{className:r(B)});default:return null}case"LINK":switch(n){case"FACEBOOK":return c.createElement(y,{className:r(k)});case"TWITTER":return c.createElement(_,{className:r(k)});default:return null}case"LINK_INLINE":switch(n){case"FACEBOOK":return c.createElement(E,{className:r(O)});case"TWITTER":return c.createElement(w.a,{className:r(O)});default:return null}case"BUTTON_BRANDED":switch(n){case"FACEBOOK":return c.createElement(E,{className:r([S,T])});case"TWITTER":return c.createElement(w.a,{className:r([P,T])});default:return null}default:return null}}var M=Object(m.b)(function(e){return{authDomain:e.config.authDomain}})(function(e){var t,n=e.authDomain,r=e.post,a=e.buttonStyle,i=e.socialPlatform;if("FACEBOOK"===i)t=Object(g.E)(n,r.id);else{if("TWITTER"!==i)return null;t=Object(g.vb)(n,r.id)}var l=R[i];if(!l)return null;var s={href:t,target:"_blank"};switch(a){case"LINK_DISABLED":return c.createElement(d.J,{darkTheme:!0,popoverRenderFn:function(){return c.createElement(d.b,{padding:"8px",whiteSpace:"nowrap"},"Social sharing is disabled while this post is in review.")},placement:"top",targetDistance:15},c.createElement(L,{buttonStyle:a,socialPlatform:i}));case"LINK":return c.createElement(d.v,s,c.createElement(L,{buttonStyle:a,socialPlatform:i}));case"LINK_INLINE":return c.createElement(d.v,s,c.createElement(L,{buttonStyle:a,socialPlatform:i}),c.createElement(d.b,{display:"inline",marginLeft:"8px",marginTop:"2px"},c.createElement(p.a,{scale:"S",tag:"span"},"Share on ",l)));case"BUTTON_BRANDED":return c.createElement(d.c,o()({},s,{buttonStyle:"SOCIAL",size:"REGULAR",width:"212px"}),c.createElement(d.b,{display:"flex",alignItems:"center",justifyContent:"center"},c.createElement(L,{buttonStyle:a,socialPlatform:i}),"Share with ".concat(l)));default:return null}})},"./src/components/user/UserBlockConfirmDialog.jsx":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("./node_modules/react/index.js"),o=n("./src/framework/design-system/components/index.js");function a(e){var t=e.onConfirm,n=e.isVisible,a=e.hide;return r.createElement(o.h,{onConfirm:t,isVisible:n,hide:a,titleText:"Block this user?",cancelText:"Cancel",confirmText:"Block"},"They will no longer be able to follow you or view your content."," ",r.createElement(o.v,{inline:!0,linkStyle:"OBVIOUS",href:"https://help.medium.com/hc/en-us/articles/214994577-Block-this-user"},"Learn more about blocking"),".")}},"./src/components/user/UserUnblockButton.jsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),o=n.n(r),a=n("./node_modules/@babel/runtime/helpers/createClass.js"),i=n.n(a),l=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),s=n.n(l),c=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),u=n.n(c),m=n("./node_modules/@babel/runtime/helpers/inherits.js"),d=n.n(m),p=n("./node_modules/react/index.js"),f=n("./src/framework/design-system/components/index.js"),g=n("./src/components/session/WithViewer.jsx"),b=n("./src/components/mutations/UserUnblockMutation.jsx"),h=function(e){function t(e){var n;return o()(this,t),(n=s()(this,u()(t).call(this,e))).state={isHovering:!1},n}return d()(t,e),i()(t,[{key:"handleMouseEnter",value:function(){this.setState({isHovering:!0})}},{key:"handleMouseLeave",value:function(){this.setState({isHovering:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.buttonSize,r=t.targetUserId,o=this.state.isHovering;return p.createElement(g.a,null,function(t){return p.createElement(b.a,{targetUserId:r,viewerId:t&&t.id},function(t){var r=t.mutate;return p.createElement(f.c,{buttonStyle:o?"SUBTLE":"ERROR",onClick:r,size:n||"REGULAR",onMouseEnter:function(){return e.handleMouseEnter()},onMouseLeave:function(){return e.handleMouseLeave()}},o?"Unblock":"Blocked")})})}}]),t}(p.Component);t.a=h},"./src/svg/twitter-filled-21px.svg":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i=o.a.createElement("path",{d:"M18.5 4.43a6.9 6.9 0 0 1-2.18.88 3.45 3.45 0 0 0-2.55-1.12 3.49 3.49 0 0 0-3.49 3.48c0 .28.03.55.07.81a9.91 9.91 0 0 1-7.17-3.67 3.9 3.9 0 0 0-.5 1.74 3.6 3.6 0 0 0 1.56 2.92 3.36 3.36 0 0 1-1.55-.44.15.15 0 0 0 0 .06c0 1.67 1.2 3.08 2.8 3.42-.3.06-.6.1-.94.12l-.62-.06A3.5 3.5 0 0 0 7.17 15a7.33 7.33 0 0 1-4.36 1.49L2 16.44A9.96 9.96 0 0 0 7.36 18c6.4 0 9.91-5.32 9.9-9.9v-.5A6.55 6.55 0 0 0 19 5.79a6.18 6.18 0 0 1-2 .56 3.33 3.33 0 0 0 1.5-1.93"});t.a=function(e){return o.a.createElement("svg",a({width:21,height:21,viewBox:"0 0 21 21"},e),i)}},"./src/util/string.js":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o});var r=function(e){return/^[\s\xa0]*$/.test(e)},o=function(e,t){if(e.length<t)return e;var n=e.substr(0,t),r=n.charCodeAt(n.length-1),o=n.charCodeAt(n.length-2);return r>=55296&&r<=57343&&!(o>=55296&&o<=57343)&&(n=n.substr(0,n.length-1)),(n=(n=n.replace(/(\s+\S+|\s+)$/,"")).replace(/[.,:;?!-]+$/,""))+"…"}}}]);
//# sourceMappingURL=screen.post~screen.post.amp~screen.sequence.post.fc5bb753.chunk.js.map